!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){r[e]=n},n.parcelRequired7c6=a),a("kvC6y");var o=a("4cG42"),c=a("bpxeT"),i=a("2TvXO");a("4cG42");var l=a("7iFtI"),s=a("5pO50"),u=a("3lV3Z");function d(e){return p.apply(this,arguments)}function p(){return(p=e(c)(e(i).mark((function n(t){var r;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.genreLoad)(t);case 3:return e.next=5,t.fetchTrend();case 5:r=e.sent,console.log(r),(0,u.setCurrenDataToLS)(r.results),(0,l.makeMarkupCard)(r),t.lastPage=r.total_pages,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),n,null,[[0,12]])})))).apply(this,arguments)}function g(e){return v.apply(this,arguments)}function v(){return(v=e(c)(e(i).mark((function n(t){var r;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.genreLoad)(t);case 3:return e.next=5,t.fetchSearch();case 5:r=e.sent,console.log(r),(0,u.setCurrenDataToLS)(r.results),(0,l.makeMarkupCard)(r),t.lastPage=r.total_pages,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),n,null,[[0,12]])})))).apply(this,arguments)}var f=a("Jmfug"),m=(c=a("bpxeT"),i=a("2TvXO"),o=a("4cG42"),l=a("7iFtI"),f=a("Jmfug"),o=a("4cG42"),a("6JEwH")),L={btnSwitchDay:document.querySelector(".time-switch-day"),btnSwitchWeek:document.querySelector(".time-switch-week")};function b(e){switch(e){case o.Movie.trendTime.DAY:(0,m.disabledEl)(L.btnSwitchDay),(0,m.unlockEl)(L.btnSwitchWeek);break;case o.Movie.trendTime.WEEK:(0,m.disabledEl)(L.btnSwitchWeek),(0,m.unlockEl)(L.btnSwitchDay)}}function h(){(0,m.unlockEl)(L.btnSwitchDay),(0,m.unlockEl)(L.btnSwitchWeek)}L.btnSwitchDay.addEventListener("click",(function(){T.page=1,T.currentTrendTime=o.Movie.trendTime.DAY,d(T),b(o.Movie.trendTime.DAY),w()})),L.btnSwitchWeek.addEventListener("click",(function(){T.page=1,T.currentTrendTime=o.Movie.trendTime.WEEK,d(T),b(o.Movie.trendTime.WEEK),w()}));u=a("3lV3Z");var y,S=new(0,a("kvC6y").default),k={formEl:document.querySelector(".search-form"),paragraphEl:document.querySelector(".warning-notification")},E=null;function _(){return(_=e(c)(e(i).mark((function n(t){var r;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S.disable(),e.prev=1,t.preventDefault(),""!==(E=t.target.query.value.trim())){e.next=8;break}return k.paragraphEl.innerHTML="Enter the name in the search field",S.enable(),e.abrupt("return");case 8:return(y=new(0,o.Movie)(E)).langCurrent=(0,f.getLanguageFromLS)(),e.next=12,y.fetchSearch();case 12:if(0!==(r=e.sent).total_results){e.next=18;break}return t.target.reset(),k.paragraphEl.innerHTML="Search result not successful. Enter the correct movie name and try again.",S.enable(),e.abrupt("return");case 18:(0,l.makeMarkupCard)(r),t.target.reset(),k.paragraphEl.innerHTML="",console.log(r),y.lastPage=r.total_pages,(0,u.setCurrenDataToLS)(r.results),h(),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(1),console.log(e.t0.message);case 30:case"end":return e.stop()}}),n,null,[[1,27]])})))).apply(this,arguments)}function w(){E=null}k.formEl.addEventListener("submit",(function(e){return _.apply(this,arguments)}));var T,x=new(0,a("kvC6y").default);console.log(x.refs.preloader),null===E&&function(){x.refs.preloader.classList.remove("is-off"),T=new(0,o.Movie);var e=(0,f.getLanguageFromLS)();e?(T.langCurrent=e,(0,f.switchBtnLang)(T.langCurrent)):T.langCurrent=(0,f.setLanguageToLS)(o.Movie.language.ENGLISH);d(T),b(o.Movie.trendTime.DAY),(0,f.setCurrentPageToLS)(f.keyLS.VALUE_PAGE_INDEX)}();o=a("4cG42");(f=a("Jmfug")).refs.btnSwitchEN.addEventListener("click",(function(){null===E?(T.langCurrent=(0,f.setLanguageToLS)(o.Movie.language.ENGLISH),d(T)):(y.langCurrent=(0,f.setLanguageToLS)(o.Movie.language.ENGLISH),g(y))})),f.refs.btnSwitchUA.addEventListener("click",(function(){null===E?(T.langCurrent=(0,f.setLanguageToLS)(o.Movie.language.UKRAINIAN),d(T)):(y.langCurrent=(0,f.setLanguageToLS)(o.Movie.language.UKRAINIAN),g(y))})),a("4cG42");var q=document.querySelector(".scroll-area"),M=document.querySelector(".up-btn"),C=document.querySelector(".icon__button");function D(){q.scrollIntoView({block:"center",behavior:"smooth"})}M.addEventListener("click",D),window.addEventListener("scroll",(function(){scrollY>230&&(C.classList.add("icon__button--opacity"),C.style.position="fixed"),scrollY<230&&(C.classList.remove("icon__button--opacity"),C.style.position="absolute"),scrollY>300?M.classList.remove("is-hidden"):scrollY<300&&M.classList.add("is-hidden")}));var N=new(0,a("kvC6y").default),A={btnLoadPrevious:document.querySelector(".pagination-page__btn-previous"),btnLoadNext:document.querySelector(".pagination-page__btn-next")};A.btnLoadPrevious.addEventListener("click",(function(){if(N.disable(),null===E?1===T.page:1===y.page)return void N.enable();null===E?T.page-=1:y.page-=1,G(),D()})),A.btnLoadNext.addEventListener("click",(function(){if(N.disable(),null===E?T.page===T.lastPage:y.page===y.lastPage)return;null===E?T.page+=1:y.page+=1,G(),D()}));var I=document.querySelector(".pagination ul");function G(){null===E?d(T):g(y)}!function e(n){!function(e,n){var t="",r=n-1,a=n+1;n>1&&(t+='<li class="btn prev"><span><<</span></li>');n>2&&(e>3&&(t+='<li class="first numb"><span>1</span></li>'),n>3&&(t+='<li class="dots"><span>...</span></li>'));e>2&&(a+=1);n==e?r-=2:n==e-1?r-=1:1==e&&(r=1);for(var o=r;o<=a;o++)o>e||(o<1&&(o=1),t+='<li class="numb '.concat(n==o?"active":"",'"><span>').concat(o,"</span></li>"));n<e-1&&(n<e-2&&(t+='<li class="dots"><span>...</span></li>'),e>3&&(t+='<li class="last numb"><span>'.concat(e,"</span></li>")));n<e&&(t+='<li class="btn next"><span>>></span></li>');I.innerHTML="",I.insertAdjacentHTML("beforeend",t)}(20,n.page);var t={prev:document.querySelector(".prev"),numb:document.querySelectorAll(".numb"),next:document.querySelector(".next")},r=t.prev,a=t.next;t.numb.forEach((function(t){t.addEventListener("click",(function(t){var r=t.target.textContent;n.page=r,G(),e(n)}))})),r&&r.addEventListener("click",(function(){n.page-=1,G(),e(n)})),a&&a.addEventListener("click",(function(){n.page+=1,G(),e(n)}))}(T),a("3nfD2"),a("5xtVg"),a("aZhHc");var H=document.querySelector("#switch-form__link-login"),P=document.querySelector("#switch-form__link-sign-up"),W=document.querySelector(".close__button"),Y=document.querySelector(".close-login__button"),O=document.querySelector(".sign-up__overlay"),U=document.querySelector(".log-in__overlay"),F=document.querySelector(".login__button"),J=document.querySelector(".signup__button"),K=document.querySelector("body"),V=document.querySelector(".registration__button");function R(e){e.preventDefault(),U.classList.toggle("log-in__overlay--hidden"),O.classList.toggle("sign-up__overlay--hidden")}function X(e){K.classList.remove("modal-open"),U.classList.add("log-in__overlay--hidden"),O.classList.add("sign-up__overlay--hidden")}function Z(e){O.classList.remove("sign-up__overlay--hidden"),K.classList.add("modal-open")}H.addEventListener("click",R),P.addEventListener("click",R),W.addEventListener("click",X),Y.addEventListener("click",X),F.addEventListener("click",(function(e){U.classList.remove("log-in__overlay--hidden"),K.classList.add("modal-open")})),J.addEventListener("click",Z),V.addEventListener("click",Z),a("bmNaJ")}();
//# sourceMappingURL=index.1d8cbb3b.js.map
