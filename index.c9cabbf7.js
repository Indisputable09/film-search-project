var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in t){var a=t[e];delete t[e];var r={id:e,exports:{}};return n[e]=r,a.call(r.exports,r,r.exports),r.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,n){t[e]=n},e.parcelRequired7c6=a),a("gjiCh");var r=a("dNTj1");a("dNTj1");var l=a("eVqJU"),o=a("k48Mq"),i=a("bAs1G");async function c(e){try{await(0,o.genreLoad)(e);const n=await e.fetchTrend();console.log(n),(0,i.setCurrenDataToLS)(n.results),(0,l.makeMarkupCard)(n),e.lastPage=n.total_pages}catch(e){console.log(e)}}async function s(e){try{await(0,o.genreLoad)(e);const n=await e.fetchSearch();console.log(n),(0,i.setCurrenDataToLS)(n.results),(0,l.makeMarkupCard)(n),e.lastPage=n.total_pages}catch(e){console.log(e)}}var u=a("dvsic"),d=(r=a("dNTj1"),l=a("eVqJU"),u=a("dvsic"),r=a("dNTj1"),a("dzEJp"));const g=new(0,a("gjiCh").default),p={btnSwitchDay:document.querySelector(".time-switch-day"),btnSwitchWeek:document.querySelector(".time-switch-week")};function b(e){switch(e){case r.Movie.trendTime.DAY:(0,d.disabledEl)(p.btnSwitchDay),(0,d.unlockEl)(p.btnSwitchWeek);break;case r.Movie.trendTime.WEEK:(0,d.disabledEl)(p.btnSwitchWeek),(0,d.unlockEl)(p.btnSwitchDay)}}p.btnSwitchDay.addEventListener("click",(function(){g.enable("loader"),E.page=1,E.currentTrendTime=r.Movie.trendTime.DAY,c(E),b(r.Movie.trendTime.DAY),m()})),p.btnSwitchWeek.addEventListener("click",(function(){g.enable("loader"),E.page=1,E.currentTrendTime=r.Movie.trendTime.WEEK,c(E),b(r.Movie.trendTime.WEEK),m()}));i=a("bAs1G");const f=new(0,a("gjiCh").default),v={formEl:document.querySelector(".search-form"),paragraphEl:document.querySelector(".warning-notification")};let L,h=null;function m(){h=null}v.formEl.addEventListener("submit",(async function(e){try{if(f.enable("loader"),e.preventDefault(),h=e.target.query.value.trim(),""===h)return v.paragraphEl.innerHTML="Enter the name in the search field",void f.disable("loader");L=new(0,r.Movie)(h),L.langCurrent=(0,u.getLanguageFromLS)();const n=await L.fetchSearch();if(0===n.total_results)return e.target.reset(),v.paragraphEl.innerHTML="Search result not successful. Enter the correct movie name and try again.",void f.disable("loader");(0,l.makeMarkupCard)(n),e.target.reset(),v.paragraphEl.innerHTML="",console.log(n),L.lastPage=n.total_pages,(0,i.setCurrenDataToLS)(n.results),(0,d.unlockEl)(p.btnSwitchDay),(0,d.unlockEl)(p.btnSwitchWeek)}catch(e){console.log(e.message)}}));let E;(new(0,a("gjiCh").default)).enable("preloader"),null===h&&function(){E=new(0,r.Movie);const e=(0,u.getLanguageFromLS)();e?(E.langCurrent=e,(0,u.switchBtnLang)(E.langCurrent)):E.langCurrent=(0,u.setLanguageToLS)(r.Movie.language.ENGLISH);c(E),b(r.Movie.trendTime.DAY),(0,u.setCurrentPageToLS)(u.keyLS.VALUE_PAGE_INDEX)}();r=a("dNTj1"),u=a("dvsic");const S=new(0,a("gjiCh").default);u.refs.btnSwitchEN.addEventListener("click",(function(){S.enable("loader"),null===h?(E.langCurrent=(0,u.setLanguageToLS)(r.Movie.language.ENGLISH),c(E)):(L.langCurrent=(0,u.setLanguageToLS)(r.Movie.language.ENGLISH),s(L))})),u.refs.btnSwitchUA.addEventListener("click",(function(){S.enable("loader"),null===h?(E.langCurrent=(0,u.setLanguageToLS)(r.Movie.language.UKRAINIAN),c(E)):(L.langCurrent=(0,u.setLanguageToLS)(r.Movie.language.UKRAINIAN),s(L))})),a("dNTj1");const w=document.querySelector(".scroll-area"),y=document.querySelector(".up-btn"),T=document.querySelector(".icon__button");function k(){w.scrollIntoView({block:"center",behavior:"smooth"})}y.addEventListener("click",k),window.addEventListener("scroll",(()=>{scrollY>230&&(T.classList.add("icon__button--opacity"),T.style.position="fixed"),scrollY<230&&(T.classList.remove("icon__button--opacity"),T.style.position="absolute"),scrollY>300?y.classList.remove("is-hidden"):scrollY<300&&y.classList.add("is-hidden")}));const M=new(0,a("gjiCh").default),C={btnLoadPrevious:document.querySelector(".pagination-page__btn-previous"),btnLoadNext:document.querySelector(".pagination-page__btn-next")};C.btnLoadPrevious.addEventListener("click",(function(){if(M.enable("loader"),null===h?1===E.page:1===L.page)return;null===h?E.page-=1:L.page-=1,N(),k()})),C.btnLoadNext.addEventListener("click",(function(){if(M.enable("loader"),null===h?E.page===E.lastPage:L.page===L.lastPage)return;null===h?E.page+=1:L.page+=1,N(),k()}));const q=document.querySelector(".pagination ul");function N(){null===h?c(E):s(L)}!function e(n){!function(e,n){let t,a="",r=n-1,l=n+1;n>1&&(a+='<li class="btn prev"><span><<</span></li>');n>2&&(e>3&&(a+='<li class="first numb"><span>1</span></li>'),n>3&&(a+='<li class="dots"><span>...</span></li>'));e>2&&(l+=1);n==e?r-=2:n==e-1?r-=1:1==e&&(r=1);for(var o=r;o<=l;o++)o>e||(o<1&&(o=1),t=n==o?"active":"",a+=`<li class="numb ${t}"><span>${o}</span></li>`);n<e-1&&(n<e-2&&(a+='<li class="dots"><span>...</span></li>'),e>3&&(a+=`<li class="last numb"><span>${e}</span></li>`));n<e&&(a+='<li class="btn next"><span>>></span></li>');q.innerHTML="",q.insertAdjacentHTML("beforeend",a)}(20,n.page);const{prev:t,numb:a,next:r}={prev:document.querySelector(".prev"),numb:document.querySelectorAll(".numb"),next:document.querySelector(".next")};a.forEach((t=>{t.addEventListener("click",(t=>{M.enable("loader");const a=t.target.textContent;n.page=a,N(),e(n)}))})),t&&t.addEventListener("click",(()=>{n.page-=1,N(),e(n)})),r&&r.addEventListener("click",(()=>{n.page+=1,N(),e(n)}))}(E),M.disable("loader"),a("lMgIy"),a("bTcpz"),a("7bYU0"),a("8cBDi"),a("f0W3V");
//# sourceMappingURL=index.c9cabbf7.js.map
