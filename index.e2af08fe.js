var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in t){var a=t[e];delete t[e];var l={id:e,exports:{}};return n[e]=l,a.call(l.exports,l,l.exports),l.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,n){t[e]=n},e.parcelRequired7c6=a),a("gjiCh");var l=a("dNTj1");a("dNTj1");var r=a("eVqJU"),o=a("k48Mq"),i=a("bAs1G");function c(e){document.querySelector(".pagination").innerHTML=function(e,n){if(e<2)return"";let t,a='<ul class="pagination">',l=n-1,r=n+1;if(n>1&&(a+='<li class="btn prev"><span><<</span></li>'),e<6)for(let l=1;l<=e;l++)t=n==l?"active":" ",a+='<li class="numb '+t+'"><span>'+l+"</span></li>";else{n>2&&(a+='<li class="first numb"><span>1</span></li>',n>3&&(a+='<li class="dots"><span>...</span></li>')),1===n?r+=2:2===n&&(r+=1),n===e?l-=2:n===e-1&&(l-=1);for(let o=l;o<=r;o++)0===o&&(o+=1),o>e||(t=n==o?"active":"",a+='<li class="numb '+t+'"><span>'+o+"</span></li>");n<e-1&&(n<e-2&&(a+='<li class="dots"><spank">...</span></li>'),a+='<li class="numb"><span>'+e+"</span></li>")}return n<e&&(a+='<li class="btn next"'+(n+1)+'">>></span></li>'),a+="</ul>",document.querySelector(".pagination").innerHTML=a,a}(e.total_pages,e.page)}async function s(e){try{await(0,o.genreLoad)(e);const n=await e.fetchTrend();console.log(n),(0,i.setCurrenDataToLS)(n.results),(0,r.makeMarkupCard)(n),c(n),e.lastPage=n.total_pages}catch(e){console.log(e)}}async function u(e){try{await(0,o.genreLoad)(e);const n=await e.fetchSearch();console.log(n),(0,i.setCurrenDataToLS)(n.results),(0,r.makeMarkupCard)(n),e.lastPage=n.total_pages}catch(e){console.log(e)}}var d=a("dvsic"),g=(l=a("dNTj1"),r=a("eVqJU"),d=a("dvsic"),l=a("dNTj1"),a("dzEJp"));const p=new(0,a("gjiCh").default),f={btnSwitchDay:document.querySelector(".time-switch-day"),btnSwitchWeek:document.querySelector(".time-switch-week")};function b(e){switch(e){case l.Movie.trendTime.DAY:(0,g.disabledEl)(f.btnSwitchDay),(0,g.unlockEl)(f.btnSwitchWeek);break;case l.Movie.trendTime.WEEK:(0,g.disabledEl)(f.btnSwitchWeek),(0,g.unlockEl)(f.btnSwitchDay)}}f.btnSwitchDay.addEventListener("click",(function(){p.enable("loader"),E.page=1,E.currentTrendTime=l.Movie.trendTime.DAY,s(E),b(l.Movie.trendTime.DAY),S()})),f.btnSwitchWeek.addEventListener("click",(function(){p.enable("loader"),E.page=1,E.currentTrendTime=l.Movie.trendTime.WEEK,s(E),b(l.Movie.trendTime.WEEK),S()}));i=a("bAs1G");const v=new(0,a("gjiCh").default),L={formEl:document.querySelector(".search-form"),paragraphEl:document.querySelector(".warning-notification")};let m,h=null;function S(){h=null}L.formEl.addEventListener("submit",(async function(e){try{if(v.enable("loader"),e.preventDefault(),h=e.target.query.value.trim(),""===h)return L.paragraphEl.innerHTML="Enter the name in the search field",void v.disable("loader");m=new(0,l.Movie)(h),m.langCurrent=(0,d.getLanguageFromLS)();const n=await m.fetchSearch();if(0===n.total_results)return e.target.reset(),L.paragraphEl.innerHTML="Search result not successful. Enter the correct movie name and try again.",void v.disable("loader");(0,r.makeMarkupCard)(n),e.target.reset(),L.paragraphEl.innerHTML="",console.log(n),m.lastPage=n.total_pages,(0,i.setCurrenDataToLS)(n.results),(0,g.unlockEl)(f.btnSwitchDay),(0,g.unlockEl)(f.btnSwitchWeek)}catch(e){console.log(e.message)}}));let E;(new(0,a("gjiCh").default)).enable("preloader"),null===h&&function(){E=new(0,l.Movie);const e=(0,d.getLanguageFromLS)();e?(E.langCurrent=e,(0,d.switchBtnLang)(E.langCurrent)):E.langCurrent=(0,d.setLanguageToLS)(l.Movie.language.ENGLISH);s(E),b(l.Movie.trendTime.DAY),(0,d.setCurrentPageToLS)(d.keyLS.VALUE_PAGE_INDEX)}();l=a("dNTj1"),d=a("dvsic");const w=new(0,a("gjiCh").default);d.refs.btnSwitchEN.addEventListener("click",(function(){w.enable("loader"),null===h?(E.langCurrent=(0,d.setLanguageToLS)(l.Movie.language.ENGLISH),s(E)):(m.langCurrent=(0,d.setLanguageToLS)(l.Movie.language.ENGLISH),u(m))})),d.refs.btnSwitchUA.addEventListener("click",(function(){w.enable("loader"),null===h?(E.langCurrent=(0,d.setLanguageToLS)(l.Movie.language.UKRAINIAN),s(E)):(m.langCurrent=(0,d.setLanguageToLS)(l.Movie.language.UKRAINIAN),u(m))})),a("dNTj1");const y=document.querySelector(".scroll-area"),T=document.querySelector(".up-btn"),k=document.querySelector(".icon__button");function M(){y.scrollIntoView({block:"center",behavior:"smooth"})}T.addEventListener("click",M),window.addEventListener("scroll",(()=>{scrollY>230&&(k.classList.add("icon__button--opacity"),k.style.position="fixed"),scrollY<230&&(k.classList.remove("icon__button--opacity"),k.style.position="absolute"),scrollY>300?T.classList.remove("is-hidden"):scrollY<300&&T.classList.add("is-hidden")}));const C=new(0,a("gjiCh").default),q={btnLoadPrevious:document.querySelector(".pagination-page__btn-previous"),btnLoadNext:document.querySelector(".pagination-page__btn-next")};q.btnLoadPrevious.addEventListener("click",(function(){if(C.disable(),null===h?1===E.page:1===m.page)return void C.enable();null===h?E.page-=1:m.page-=1,x(),M()})),q.btnLoadNext.addEventListener("click",(function(){if(null===h?E.page===E.lastPage:m.page===m.lastPage)return;null===h?E.page+=1:m.page+=1,x(),M()}));const{prev:N,numb:_,next:D}={prev:document.querySelector(".prev"),numb:document.querySelectorAll(".numb"),next:document.querySelector(".next")};function x(){null===h?s(E):u(m)}!function e(n){c(n),_.forEach((t=>{t.addEventListener("click",(t=>{C.enable("loader");const a=t.target.textContent;n.page=a,x(),e(n)}))})),N&&N.addEventListener("click",(()=>{n.page-=1,x(),e(n)})),D&&D.addEventListener("click",(()=>{n.page+=1,x(),e(n)}))}(E),a("lMgIy"),a("bTcpz"),a("7bYU0"),a("8cBDi"),a("f0W3V");
//# sourceMappingURL=index.e2af08fe.js.map
