!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},r=e.parcelRequired7c6;null==r&&((r=function(t){if(t in n)return n[t].exports;if(t in a){var e=a[t];delete a[t];var r={id:t,exports:{}};return n[t]=r,e.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){a[t]=e},e.parcelRequired7c6=r),r("kvC6y");var o=r("4cG42"),c=r("bpxeT"),i=r("2TvXO");r("4cG42");var l=r("7iFtI"),u=r("5pO50"),s=r("3lV3Z"),d="active",g="btn-pagination",p="numb",f="prev-page",b="next-page",h="first-page",v="last-page",x="dots",m="disabled";function S(t){var e=t.page,n=t.total_pages;document.querySelector(".pagination-container").innerHTML=function(t,e){if(t<2)return"";var n,a,r='<ul class="pagination-list" data-last="'.concat(t,'" data-current="').concat(e,'">'),o=e-1,c=e+1;if(e>1&&(r+='<li class="'.concat(g," ").concat(f,'" ><button data-page="').concat(e-1,'">&#129144;</button></li>')),t<6)for(var i=1;i<=t;i++)n=e===i?d:"",a=e===i?m:"",r+='<li class="'.concat(p," ").concat(n,'" ><button ').concat(a,' data-page="').concat(i,'">').concat(i,"</button></li>");else{e>2&&(r+='<li class="'.concat(p," ").concat(h,'" ><button data-page="1">1</button></li>'),e>3&&window.innerWidth>768&&(r+='<li class="'.concat(x,'"><button ').concat(m,">...</button></li>"))),1===e?c+=2:2===e&&(c+=1),e===t?o-=2:e===t-1&&(o-=1);for(var l=o;l<=c;l++)0===l&&(l+=1),l>t||(n=e===l?d:"",a=e===l?m:"",r+='<li class="'.concat(p," ").concat(n,'" ><button ').concat(a,' data-page="').concat(l,'">').concat(l,"</button></li>"));e<t-1&&window.innerWidth>768&&(e<t-2&&(r+='<li class="'.concat(x,'"><button ').concat(m,">...</button></li>")),r+='<li class="'.concat(p," ").concat(v,'" ><button data-page="').concat(t,'">').concat(t,"</button></li>"))}return e<t&&(r+='<li class="'.concat(g," ").concat(b,'" ><button data-page="').concat(e+1,'">&#129146;</button></li>')),r+"</ul>"}(n,e)}function y(t){return L.apply(this,arguments)}function L(){return(L=t(c)(t(i).mark((function e(n){var a;return t(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,u.genreLoad)(n);case 3:return t.next=5,n.fetchTrend();case 5:a=t.sent,console.log(a),(0,s.setCurrenDataToLS)(a.results),(0,l.makeMarkupCard)(a),S(a),n.lastPage=a.total_pages,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function w(t){return k.apply(this,arguments)}function k(){return(k=t(c)(t(i).mark((function e(n){var a;return t(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,u.genreLoad)(n);case 3:return t.next=5,n.fetchSearch();case 5:a=t.sent,console.log(a),(0,s.setCurrenDataToLS)(a.results),(0,l.makeMarkupCard)(a),S(a),n.lastPage=a.total_pages,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}var C=r("Jmfug"),E=(c=r("bpxeT"),i=r("2TvXO"),o=r("4cG42"),l=r("7iFtI"),C=r("Jmfug"),o=r("4cG42"),r("6JEwH")),T=new(0,(W=r("kvC6y")).default),M={btnSwitchDay:document.querySelector(".time-switch-day"),btnSwitchWeek:document.querySelector(".time-switch-week")};function _(t){switch(t){case o.Movie.trendTime.DAY:(0,E.disabledEl)(M.btnSwitchDay),(0,E.unlockEl)(M.btnSwitchWeek);break;case o.Movie.trendTime.WEEK:(0,E.disabledEl)(M.btnSwitchWeek),(0,E.unlockEl)(M.btnSwitchDay)}}function q(){(0,E.unlockEl)(M.btnSwitchDay),(0,E.unlockEl)(M.btnSwitchWeek)}M.btnSwitchDay.addEventListener("click",(function(){T.enable("loader"),D.page=1,D.currentTrendTime=o.Movie.trendTime.DAY,y(D),_(o.Movie.trendTime.DAY),H()})),M.btnSwitchWeek.addEventListener("click",(function(){T.enable("loader"),D.page=1,D.currentTrendTime=o.Movie.trendTime.WEEK,y(D),_(o.Movie.trendTime.WEEK),H()}));s=r("3lV3Z");var U,D,I=new(0,(W=r("kvC6y")).default),N={formEl:document.querySelector(".search-form"),paragraphEl:document.querySelector(".warning-notification")},A=null;function G(){return(G=t(c)(t(i).mark((function e(n){var a;return t(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,I.enable("loader"),n.preventDefault(),""!==(A=n.target.query.value.trim())){t.next=8;break}return N.paragraphEl.innerHTML="Enter the name in the search field",I.disable("loader"),t.abrupt("return");case 8:return(U=new(0,o.Movie)(A)).langCurrent=(0,C.getLanguageFromLS)(),t.next=12,U.fetchSearch();case 12:if(0!==(a=t.sent).total_results){t.next=18;break}return n.target.reset(),N.paragraphEl.innerHTML="Search result not successful. Enter the correct movie name and try again.",I.disable("loader"),t.abrupt("return");case 18:(0,l.makeMarkupCard)(a),S(a),n.target.reset(),N.paragraphEl.innerHTML="",console.log(a),U.lastPage=a.total_pages,(0,s.setCurrenDataToLS)(a.results),q(),t.next=31;break;case 28:t.prev=28,t.t0=t.catch(0),console.log(t.t0.message);case 31:case"end":return t.stop()}}),e,null,[[0,28]])})))).apply(this,arguments)}function H(){A=null}N.formEl.addEventListener("submit",(function(t){return G.apply(this,arguments)})),(new(0,(W=r("kvC6y")).default)).enable("preloader"),null===A&&function(){D=new(0,o.Movie);var t=(0,C.getLanguageFromLS)();t?(D.langCurrent=t,(0,C.switchBtnLang)(D.langCurrent)):D.langCurrent=(0,C.setLanguageToLS)(o.Movie.language.ENGLISH);y(D),_(o.Movie.trendTime.DAY),(0,C.setCurrentPageToLS)(C.keyLS.VALUE_PAGE_INDEX)}();o=r("4cG42"),C=r("Jmfug");var W=r("kvC6y"),P=r("bEuMR"),j=(c=r("bpxeT"),i=r("2TvXO"),C=r("Jmfug"),C=r("Jmfug"),{linkHome:document.querySelector(".js-homeLink-text"),linkMyLibrary:document.querySelector(".js-myLibrary-text"),btnSignUp:document.querySelector(".js-signUp-text"),btnLogIn:document.querySelector(".js-logIn-text"),searchPlaceholder:document.querySelector(".search-form__input"),textUpFirst:document.querySelector(".js-footer-text__up--first"),textUpSecond:document.querySelector(".js-footer-text__up--second"),textUpThird:document.querySelector(".js-footer-text__up--third"),textLink:document.querySelector(".js-footer-text__link")}),F=j.linkHome,O=j.linkMyLibrary,R=j.btnSignUp,Y=j.btnLogIn,J=j.searchPlaceholder,K=j.textUpFirst,V=j.textUpSecond,X=j.textUpThird,Z=j.textLink;function B(){return z.apply(this,arguments)}function z(){return(z=t(c)(t(i).mark((function e(){var n;return t(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,C.getLanguageFromLS)();case 2:"en-US"===(n=t.sent)&&(F.textContent="Home",O.textContent="My library",R.textContent="Sign Up","Вхід"===Y.textContent?Y.textContent="Log In":"Вихід"===Y.textContent&&(Y.textContent="Log Out"),J.placeholder="Movie search",C.refs.btnSwitchEN.textContent="en",C.refs.btnSwitchUA.textContent="ua",M.btnSwitchDay.textContent="day",M.btnSwitchWeek.textContent="week",K.textContent="All Rights Reserved",V.textContent="Developed with",X.textContent="by",Z.textContent="GoIT Students"),"uk-UA"===n&&(F.textContent="Головна",O.textContent="Бібліотека",R.textContent="Реєстрація","Log In"===Y.textContent?Y.textContent="Вхід":"Log Out"===Y.textContent&&(Y.textContent="Вихід"),J.placeholder="Пошук фільму",C.refs.btnSwitchEN.textContent="англ",C.refs.btnSwitchUA.textContent="укр",M.btnSwitchDay.textContent="день",M.btnSwitchWeek.textContent="тиждень",K.textContent="Всі права захищені",V.textContent="Зроблено з",X.textContent="",Z.textContent="Студентами GoIT");case 5:case"end":return t.stop()}}),e)})))).apply(this,arguments)}B();var Q=new(0,W.default);C.refs.btnSwitchEN.addEventListener("click",(function(){Q.enable("loader"),null===A?(D.langCurrent=(0,C.setLanguageToLS)(o.Movie.language.ENGLISH),y(D)):(U.langCurrent=(0,C.setLanguageToLS)(o.Movie.language.ENGLISH),w(U));B(),(0,P.renderFooter)()})),C.refs.btnSwitchUA.addEventListener("click",(function(){Q.enable("loader"),null===A?(D.langCurrent=(0,C.setLanguageToLS)(o.Movie.language.UKRAINIAN),y(D)):(U.langCurrent=(0,C.setLanguageToLS)(o.Movie.language.UKRAINIAN),w(U));B(),(0,P.renderFooter)()})),r("4cG42");var $=document.querySelector(".scroll-area"),tt=document.querySelector(".up-btn"),et=document.querySelector(".icon__button");function nt(){$.scrollIntoView({block:"center",behavior:"smooth"})}tt.addEventListener("click",nt),window.addEventListener("scroll",(function(){scrollY>230&&(et.classList.add("icon__button--opacity"),et.style.position="fixed"),scrollY<230&&(et.classList.remove("icon__button--opacity"),et.style.position="absolute"),scrollY>300?tt.classList.remove("is-hidden"):scrollY<300&&tt.classList.add("is-hidden")}));new(0,(W=r("kvC6y")).default);var at=document.querySelector(".pagination-container");at.addEventListener("click",(function(t){var e={elPaginationList:document.querySelector(".pagination-list")},n=e.elPaginationList.dataset.current;e.elPaginationList.dataset.last;if("BUTTON"!==t.target.nodeName)return;var a=t.target.dataset.page;if(a===n)return;r=a,null===A?D.page=r:U.page=r,null===A?y(D):w(U),nt();var r})),console.log(at),r("3nfD2"),r("5xtVg"),r("bEuMR"),r("aZhHc"),r("sPj1j"),r("bmNaJ")}();
//# sourceMappingURL=index.2e464a55.js.map
