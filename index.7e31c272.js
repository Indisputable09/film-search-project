var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,a.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequired7c6=a),a("gjiCh");var o=a("dNTj1");a("dNTj1");var r=a("eVqJU"),i=a("k48Mq"),l=a("bAs1G");let c=themeMode||"light";const s="active",u="btn-pagination",d="numb",g="prev-page",h="next-page",p="first-page",b="last-page",w="dots",f="disabled";function L(e){const t=e.page,n=e.total_pages;document.querySelector(".pagination-container").innerHTML=function(e,t){if(e<2)return"";let n,a,o,r=`<ul class="pagination-list" data-last="${e}" data-current="${t}">`,i=t-1,l=t+1;if(o="light"==c?"arrow-light-theme":"arrow-dark-theme",t>1&&(r+=`<li class="${u} ${g}"><button data-page="${t-1}"><svg class="arrow" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path class="${o}" d="M12.6667 8H3.33337" stroke="none" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>\n<path class="${o}" d="M8.00004 12.6667L3.33337 8.00004L8.00004 3.33337" stroke="none" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>\n</svg></button></li>`),e<6)for(let o=1;o<=e;o++)n=t===o?s:"",a=t===o?f:"",r+=`<li class="${d} ${n}" ><button ${a} data-page="${o}">${o}</button></li>`;else{t>2&&(r+=`<li class="${d} ${p}" ><button data-page="1">1</button></li>`,t>3&&window.innerWidth>768&&(r+=`<li class="${w}"><button ${f}>...</button></li>`)),1===t?l+=2:2===t&&(l+=1),t===e?i-=2:t===e-1&&(i-=1);for(let o=i;o<=l;o++)0===o&&(o+=1),o>e||(n=t===o?s:"",a=t===o?f:"",r+=`<li class="${d} ${n}" ><button ${a} data-page="${o}">${o}</button></li>`);t<e-1&&window.innerWidth>768&&(t<e-2&&(r+=`<li class="${w}"><button ${f}>...</button></li>`),r+=`<li class="${d} ${b}" ><button data-page="${e}">${e}</button></li>`)}return t<e&&(r+=`<li class="${u} ${h}" ><button data-page="${t+1}"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path class="${o}" d="M3.33329 8H12.6666" stroke="black" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>\n<path class="${o}" d="M7.99996 12.6667L12.6666 8.00004L7.99996 3.33337" stroke="black" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>\n</svg></button></li>`),r+="</ul>",r}(n,t)}async function S(e){try{await(0,i.genreLoad)(e);const t=await e.fetchTrend();console.log(t),(0,l.setCurrenDataToLS)(t.results),(0,r.makeMarkupCard)(t),L(t),e.lastPage=t.total_pages}catch(e){console.log(e)}}async function k(e){try{await(0,i.genreLoad)(e);const t=await e.fetchSearch();console.log(t),(0,l.setCurrenDataToLS)(t.results),(0,r.makeMarkupCard)(t),L(t),e.lastPage=t.total_pages}catch(e){console.log(e)}}var v=a("dvsic"),m=(o=a("dNTj1"),r=a("eVqJU"),v=a("dvsic"),o=a("dNTj1"),a("dzEJp"));const y=new(0,(U=a("gjiCh")).default),C={btnSwitchDay:document.querySelector(".time-switch-day"),btnSwitchWeek:document.querySelector(".time-switch-week")};function E(e){switch(e){case o.Movie.trendTime.DAY:(0,m.disabledEl)(C.btnSwitchDay),(0,m.unlockEl)(C.btnSwitchWeek);break;case o.Movie.trendTime.WEEK:(0,m.disabledEl)(C.btnSwitchWeek),(0,m.unlockEl)(C.btnSwitchDay)}}C.btnSwitchDay.addEventListener("click",(function(){y.enable("loader"),j.page=1,j.currentTrendTime=o.Movie.trendTime.DAY,S(j),E(o.Movie.trendTime.DAY),N()})),C.btnSwitchWeek.addEventListener("click",(function(){y.enable("loader"),j.page=1,j.currentTrendTime=o.Movie.trendTime.WEEK,S(j),E(o.Movie.trendTime.WEEK),N()}));l=a("bAs1G");const T=new(0,(U=a("gjiCh")).default),x={formEl:document.querySelector(".search-form"),paragraphEl:document.querySelector(".warning-notification")};let M,$=null;function N(){$=null}x.formEl.addEventListener("submit",(async function(e){try{if(T.enable("loader"),e.preventDefault(),$=e.target.query.value.trim(),""===$)return x.paragraphEl.innerHTML="Enter the name in the search field",void T.disable("loader");M=new(0,o.Movie)($),M.langCurrent=(0,v.getLanguageFromLS)();const t=await M.fetchSearch();if(0===t.total_results)return e.target.reset(),x.paragraphEl.innerHTML="Search result not successful. Enter the correct movie name and try again.",void T.disable("loader");(0,r.makeMarkupCard)(t),L(t),e.target.reset(),x.paragraphEl.innerHTML="",console.log(t),M.lastPage=t.total_pages,(0,l.setCurrenDataToLS)(t.results),(0,m.unlockEl)(C.btnSwitchDay),(0,m.unlockEl)(C.btnSwitchWeek)}catch(e){console.log(e.message)}}));let j;(new(0,(U=a("gjiCh")).default)).enable("preloader"),null===$&&function(){j=new(0,o.Movie);const e=(0,v.getLanguageFromLS)();e?(j.langCurrent=e,(0,v.switchBtnLang)(j.langCurrent)):j.langCurrent=(0,v.setLanguageToLS)(o.Movie.language.ENGLISH);S(j),E(o.Movie.trendTime.DAY),(0,v.setCurrentPageToLS)(v.keyLS.VALUE_PAGE_INDEX)}();o=a("dNTj1"),v=a("dvsic");var U=a("gjiCh"),D=a("fPbO4");v=a("dvsic"),v=a("dvsic"),o=a("dNTj1");const q={linkHome:document.querySelector(".js-homeLink-text"),linkMyLibrary:document.querySelector(".js-myLibrary-text"),btnSignUp:document.querySelector(".js-signUp-text"),btnLogIn:document.querySelector(".js-logIn-text"),searchPlaceholder:document.querySelector(".search-form__input")},{linkHome:I,linkMyLibrary:A,btnSignUp:H,btnLogIn:W,searchPlaceholder:P,textUpFirst:_,textUpSecond:O,textUpThird:F,textLink:G}=q;async function B(){const e=await(0,v.getLanguageFromLS)();e===o.Movie.language.ENGLISH&&(I.textContent="Home",A.textContent="My library",H.textContent="Sign Up","Вхід"===W.textContent?W.textContent="Log In":"Вихід"===W.textContent&&(W.textContent="Log Out"),P.placeholder="Movie search",v.refs.btnSwitchEN.textContent="en",v.refs.btnSwitchUA.textContent="ua",C.btnSwitchDay.textContent="day",C.btnSwitchWeek.textContent="week"),e===o.Movie.language.UKRAINIAN&&(I.textContent="Головна",A.textContent="Бібліотека",H.textContent="Реєстрація","Log In"===W.textContent?W.textContent="Вхід":"Log Out"===W.textContent&&(W.textContent="Вихід"),P.placeholder="Пошук фільму",v.refs.btnSwitchEN.textContent="англ",v.refs.btnSwitchUA.textContent="укр",C.btnSwitchDay.textContent="день",C.btnSwitchWeek.textContent="тиждень")}console.log(P),B();const K=new(0,U.default);v.refs.btnSwitchEN.addEventListener("click",(function(){K.enable("loader"),null===$?(j.langCurrent=(0,v.setLanguageToLS)(o.Movie.language.ENGLISH),S(j)):(M.langCurrent=(0,v.setLanguageToLS)(o.Movie.language.ENGLISH),k(M));B(),(0,D.renderFooter)()})),v.refs.btnSwitchUA.addEventListener("click",(function(){K.enable("loader"),null===$?(j.langCurrent=(0,v.setLanguageToLS)(o.Movie.language.UKRAINIAN),S(j)):(M.langCurrent=(0,v.setLanguageToLS)(o.Movie.language.UKRAINIAN),k(M));B(),(0,D.renderFooter)()})),a("dNTj1");var R=a("Tc9hE");a("lMgIy");new(0,(U=a("gjiCh")).default);document.querySelector(".pagination-container").addEventListener("click",(function(e){const t={elPaginationList:document.querySelector(".pagination-list")},n=t.elPaginationList.dataset.current;t.elPaginationList.dataset.last;if("BUTTON"!==e.target.nodeName)return;const a=e.target.dataset.page;if(a===n)return;o=a,null===$?j.page=o:M.page=o,null===$?S(j):k(M),(0,R.handleButtonClick)();var o})),a("lMgIy"),a("bTcpz"),a("Tc9hE"),a("fPbO4"),a("7bYU0"),a("8cBDi"),a("f0W3V");
//# sourceMappingURL=index.7e31c272.js.map
