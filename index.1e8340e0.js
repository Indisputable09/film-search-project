var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in t){var a=t[e];delete t[e];var o={id:e,exports:{}};return n[e]=o,a.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,n){t[e]=n},e.parcelRequired7c6=a),a("gjiCh");var o=a("dNTj1");a("dNTj1");var r=a("eVqJU"),l=a("k48Mq"),i=a("bAs1G");async function c(e){try{await(0,l.genreLoad)(e);const n=await e.fetchTrend();console.log(n),(0,i.setCurrenDataToLS)(n.results),(0,r.makeMarkupCard)(n),e.lastPage=n.total_pages}catch(e){console.log(e)}}async function s(e){try{await(0,l.genreLoad)(e);const n=await e.fetchSearch();console.log(n),(0,i.setCurrenDataToLS)(n.results),(0,r.makeMarkupCard)(n),e.lastPage=n.total_pages}catch(e){console.log(e)}}var u=a("dvsic"),d=(o=a("dNTj1"),r=a("eVqJU"),u=a("dvsic"),o=a("dNTj1"),a("dzEJp"));const g={btnSwitchDay:document.querySelector(".time-switch-day"),btnSwitchWeek:document.querySelector(".time-switch-week")};function p(e){switch(e){case o.Movie.trendTime.DAY:(0,d.disabledEl)(g.btnSwitchDay),(0,d.unlockEl)(g.btnSwitchWeek);break;case o.Movie.trendTime.WEEK:(0,d.disabledEl)(g.btnSwitchWeek),(0,d.unlockEl)(g.btnSwitchDay)}}g.btnSwitchDay.addEventListener("click",(function(){h.page=1,h.currentTrendTime=o.Movie.trendTime.DAY,c(h),p(o.Movie.trendTime.DAY),b()})),g.btnSwitchWeek.addEventListener("click",(function(){h.page=1,h.currentTrendTime=o.Movie.trendTime.WEEK,c(h),p(o.Movie.trendTime.WEEK),b()}));i=a("bAs1G");const v=new(0,a("gjiCh").default),L={formEl:document.querySelector(".search-form"),paragraphEl:document.querySelector(".warning-notification")};let f,m=null;function b(){m=null}L.formEl.addEventListener("submit",(async function(e){v.disable();try{if(e.preventDefault(),m=e.target.query.value.trim(),""===m)return L.paragraphEl.innerHTML="Enter the name in the search field",void v.enable();f=new(0,o.Movie)(m),f.langCurrent=(0,u.getLanguageFromLS)();const n=await f.fetchSearch();if(0===n.total_results)return e.target.reset(),L.paragraphEl.innerHTML="Search result not successful. Enter the correct movie name and try again.",void v.enable();(0,r.makeMarkupCard)(n),e.target.reset(),L.paragraphEl.innerHTML="",console.log(n),f.lastPage=n.total_pages,(0,i.setCurrenDataToLS)(n.results),(0,d.unlockEl)(g.btnSwitchDay),(0,d.unlockEl)(g.btnSwitchWeek)}catch(e){console.log(e.message)}}));const y=new(0,a("gjiCh").default);let h;console.log(y.refs.preloader),null===m&&function(){y.refs.preloader.classList.remove("is-off"),h=new(0,o.Movie);const e=(0,u.getLanguageFromLS)();e?(h.langCurrent=e,(0,u.switchBtnLang)(h.langCurrent)):h.langCurrent=(0,u.setLanguageToLS)(o.Movie.language.ENGLISH);c(h),p(o.Movie.trendTime.DAY),(0,u.setCurrentPageToLS)(u.keyLS.VALUE_PAGE_INDEX)}();o=a("dNTj1");(u=a("dvsic")).refs.btnSwitchEN.addEventListener("click",(function(){null===m?(h.langCurrent=(0,u.setLanguageToLS)(o.Movie.language.ENGLISH),c(h)):(f.langCurrent=(0,u.setLanguageToLS)(o.Movie.language.ENGLISH),s(f))})),u.refs.btnSwitchUA.addEventListener("click",(function(){null===m?(h.langCurrent=(0,u.setLanguageToLS)(o.Movie.language.UKRAINIAN),c(h)):(f.langCurrent=(0,u.setLanguageToLS)(o.Movie.language.UKRAINIAN),s(f))})),a("dNTj1");const S=document.querySelector(".scroll-area"),E=document.querySelector(".up-btn"),_=document.querySelector(".icon__button");function k(){S.scrollIntoView({block:"center",behavior:"smooth"})}E.addEventListener("click",k),window.addEventListener("scroll",(()=>{scrollY>230&&(_.classList.add("icon__button--opacity"),_.style.position="fixed"),scrollY<230&&(_.classList.remove("icon__button--opacity"),_.style.position="absolute"),scrollY>300?E.classList.remove("is-hidden"):scrollY<300&&E.classList.add("is-hidden")}));const w=new(0,a("gjiCh").default),T={btnLoadPrevious:document.querySelector(".pagination-page__btn-previous"),btnLoadNext:document.querySelector(".pagination-page__btn-next")};T.btnLoadPrevious.addEventListener("click",(function(){if(w.disable(),null===m?1===h.page:1===f.page)return void w.enable();null===m?h.page-=1:f.page-=1,M(),k()})),T.btnLoadNext.addEventListener("click",(function(){if(w.disable(),null===m?h.page===h.lastPage:f.page===f.lastPage)return;null===m?h.page+=1:f.page+=1,M(),k()}));const q=document.querySelector(".pagination ul");function M(){null===m?c(h):s(f)}!function e(n){!function(e,n){let t,a="",o=n-1,r=n+1;n>1&&(a+='<li class="btn prev"><span><<</span></li>');n>2&&(e>3&&(a+='<li class="first numb"><span>1</span></li>'),n>3&&(a+='<li class="dots"><span>...</span></li>'));e>2&&(r+=1);n==e?o-=2:n==e-1?o-=1:1==e&&(o=1);for(var l=o;l<=r;l++)l>e||(l<1&&(l=1),t=n==l?"active":"",a+=`<li class="numb ${t}"><span>${l}</span></li>`);n<e-1&&(n<e-2&&(a+='<li class="dots"><span>...</span></li>'),e>3&&(a+=`<li class="last numb"><span>${e}</span></li>`));n<e&&(a+='<li class="btn next"><span>>></span></li>');q.innerHTML="",q.insertAdjacentHTML("beforeend",a)}(20,n.page);const{prev:t,numb:a,next:o}={prev:document.querySelector(".prev"),numb:document.querySelectorAll(".numb"),next:document.querySelector(".next")};a.forEach((t=>{t.addEventListener("click",(t=>{const a=t.target.textContent;n.page=a,M(),e(n)}))})),t&&t.addEventListener("click",(()=>{n.page-=1,M(),e(n)})),o&&o.addEventListener("click",(()=>{n.page+=1,M(),e(n)}))}(h),a("lMgIy"),a("bTcpz"),a("7bYU0");const C=document.querySelector("#switch-form__link-login"),N=document.querySelector("#switch-form__link-sign-up"),D=document.querySelector(".close__button"),A=document.querySelector(".close-login__button"),x=document.querySelector(".sign-up__overlay"),j=document.querySelector(".log-in__overlay"),I=document.querySelector(".login__button"),P=document.querySelector(".signup__button"),U=document.querySelector("body"),W=document.querySelector(".registration__button");function Y(e){e.preventDefault(),j.classList.toggle("log-in__overlay--hidden"),x.classList.toggle("sign-up__overlay--hidden")}function H(e){U.classList.remove("modal-open"),j.classList.add("log-in__overlay--hidden"),x.classList.add("sign-up__overlay--hidden")}function G(e){x.classList.remove("sign-up__overlay--hidden"),U.classList.add("modal-open")}C.addEventListener("click",Y),N.addEventListener("click",Y),D.addEventListener("click",H),A.addEventListener("click",H),I.addEventListener("click",(function(e){j.classList.remove("log-in__overlay--hidden"),U.classList.add("modal-open")})),P.addEventListener("click",G),W.addEventListener("click",G),a("f0W3V");
//# sourceMappingURL=index.1e8340e0.js.map
