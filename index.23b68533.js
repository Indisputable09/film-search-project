!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){a[e]=t},t.parcelRequired7c6=o);var r=o("4cG42"),c=o("bpxeT"),i=o("2TvXO");o("4cG42");r=o("4cG42"),c=o("bpxeT"),i=o("2TvXO"),r=o("4cG42");var l=o("Jmfug");l=o("Jmfug");function s(e){return u.apply(this,arguments)}function u(){return(u=e(c)(e(i).mark((function t(n){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.getItem(l.keyLS.LS_GENRE_KEY_EN)||(n.langCurrent=l.keyLS.LS_GENRE_KEY_EN,n.fetchGenre().then((function(e){localStorage.setItem(l.keyLS.LS_GENRE_KEY_EN,JSON.stringify(e.genres))})).catch((function(e){return console.log(e)})),n.langCurrent=l.keyLS.LS_GENRE_KEY_UA,n.fetchGenre().then((function(e){localStorage.setItem(l.keyLS.LS_GENRE_KEY_UA,JSON.stringify(e.genres))})).catch((function(e){return console.log(e)}))),n.langCurrent=(0,l.getLanguageFromLS)();case 3:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=localStorage.getItem(l.keyLS.LS_GENRE_KEY_EN),n="No genres",a="Other",o=(0,l.getLanguageFromLS)();switch(o){case r.Movie.language.ENGLISH:t=localStorage.getItem(l.keyLS.LS_GENRE_KEY_EN),n="No genres",a="Other";break;case r.Movie.language.UKRAINIAN:t=localStorage.getItem(l.keyLS.LS_GENRE_KEY_UA),n="Жанри відсутні",a="Інші"}if(!t||0===e.length)return n;var c=JSON.parse(t),i=c.reduce((function(t,n){return e.includes(n.id)&&t.push(n.name),t}),[]);return 0===i.length?n:i.length>3?"".concat(i[0],", ").concat(i[1],", ").concat(a):i.join(", ")}l=o("Jmfug");function g(e){var t=document.querySelector(".gallery"),n=e.results.map((function(e){return'<li class="card">\n          <a class="card__link" href=""  >\n            <img data-id="'.concat(e.id,'" class="card__img" src="').concat(e.poster_path?r.Movie.IMG_PATH+e.poster_path:"https://yt3.ggpht.com/AAKF_677TIvjFz_9xFF0R6PgiVd0kRpEtY6APSxSDRP65nXg8hkn9NFsz2bRd9_Z37DJ9D_b=s900-c-k-c0x00ffffff-no-rj",'" alt="').concat(e.title,'" loading="lazy"/>\n      <div class="card__wrapper">\n            <p class="card__name">').concat(e.title.toUpperCase(),'</p>\n            <p class="card__description">').concat(d(e.genre_ids)," | ").concat((0,l.noYearVariableLang)(e.release_date),'\n            <span class="card__vote">').concat(Math.round(10*e.vote_average)/10,"</span>\n            </p>\n            </div>\n          </a>\n        </li>")})).join("");t.innerHTML=n}var p="themoviedb-current-data";function f(e){localStorage.setItem(p,JSON.stringify(e))}function m(e){return _.apply(this,arguments)}function _(){return(_=e(c)(e(i).mark((function t(n){var a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(n);case 3:return e.next=5,n.fetchTrend();case 5:a=e.sent,console.log(a),f(a.results),g(a),n.lastPage=a.total_pages,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}function v(e){return h.apply(this,arguments)}function h(){return(h=e(c)(e(i).mark((function t(n){var a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(n);case 3:return e.next=5,n.fetchSearch();case 5:a=e.sent,console.log(a),f(a.results),g(a,n.langCurrent),n.lastPage=a.total_pages,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}l=o("Jmfug"),c=o("bpxeT"),i=o("2TvXO"),r=o("4cG42"),l=o("Jmfug"),r=o("4cG42");var S=o("6JEwH"),L={btnSwitchDay:document.querySelector(".time-switch-day"),btnSwitchWeek:document.querySelector(".time-switch-week")};function E(e){switch(e){case r.Movie.trendTime.DAY:(0,S.disabledEl)(L.btnSwitchDay),(0,S.unlockEl)(L.btnSwitchWeek);break;case r.Movie.trendTime.WEEK:(0,S.disabledEl)(L.btnSwitchWeek),(0,S.unlockEl)(L.btnSwitchDay)}}function b(){(0,S.unlockEl)(L.btnSwitchDay),(0,S.unlockEl)(L.btnSwitchWeek)}L.btnSwitchDay.addEventListener("click",(function(){k.page=1,k.currentTrendTime=r.Movie.trendTime.DAY,m(k),E(r.Movie.trendTime.DAY),x()})),L.btnSwitchWeek.addEventListener("click",(function(){k.page=1,k.currentTrendTime=r.Movie.trendTime.WEEK,m(k),E(r.Movie.trendTime.WEEK),x()}));var y,k,w={formEl:document.querySelector(".search-form"),paragraphEl:document.querySelector(".warning-notification")},N=null;function T(){return(T=e(c)(e(i).mark((function t(n){var a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),""!==(N=n.target.query.value.trim())){e.next=6;break}return w.paragraphEl.innerHTML="Enter the name in the search field",e.abrupt("return");case 6:return(y=new(0,r.Movie)(N)).langCurrent=(0,l.getLanguageFromLS)(),e.next=10,y.fetchSearch();case 10:if(0!==(a=e.sent).total_results){e.next=15;break}return n.target.reset(),w.paragraphEl.innerHTML="Search result not successful. Enter the correct movie name and try again.",e.abrupt("return");case 15:g(a),n.target.reset(),w.paragraphEl.innerHTML="",console.log(a),y.lastPage=a.total_pages,f(a.results),b(),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.log(e.t0.message);case 27:case"end":return e.stop()}}),t,null,[[0,24]])})))).apply(this,arguments)}function x(){N=null}w.formEl.addEventListener("submit",(function(e){return T.apply(this,arguments)})),null===N&&function(){k=new(0,r.Movie);var e=(0,l.getLanguageFromLS)();e?(k.langCurrent=e,(0,l.switchBtnLang)(k.langCurrent)):k.langCurrent=(0,l.setLanguageToLS)(r.Movie.language.ENGLISH);m(k),E(r.Movie.trendTime.DAY)}();r=o("4cG42");(l=o("Jmfug")).refs.btnSwitchEN.addEventListener("click",(function(){null===N?(k.langCurrent=(0,l.setLanguageToLS)(r.Movie.language.ENGLISH),m(k)):(y.langCurrent=(0,l.setLanguageToLS)(r.Movie.language.ENGLISH),v(y))})),l.refs.btnSwitchUA.addEventListener("click",(function(){null===N?(k.langCurrent=(0,l.setLanguageToLS)(r.Movie.language.UKRAINIAN),m(k)):(y.langCurrent=(0,l.setLanguageToLS)(r.Movie.language.UKRAINIAN),v(y))})),o("4cG42");var M=document.querySelector(".scroll-area"),I=document.querySelector(".up-btn"),q=document.querySelector(".icon__button");function G(){M.scrollIntoView({block:"center",behavior:"smooth"})}I.addEventListener("click",G),window.addEventListener("scroll",(function(){scrollY>230&&(q.classList.add("icon__button--opacity"),q.style.position="fixed"),scrollY<230&&(q.classList.remove("icon__button--opacity"),q.style.position="absolute"),scrollY>300?I.classList.remove("is-hidden"):scrollY<300&&I.classList.add("is-hidden")}));var A={btnLoadPrevious:document.querySelector(".pagination-page__btn-previous"),btnLoadNext:document.querySelector(".pagination-page__btn-next")};function D(){null===N?m(k):v(y)}A.btnLoadPrevious.addEventListener("click",(function(){if(null===N?1===k.page:1===y.page)return;null===N?k.page-=1:y.page-=1,D(),G()})),A.btnLoadNext.addEventListener("click",(function(){if(null===N?k.page===k.lastPage:y.page===y.lastPage)return;null===N?k.page+=1:y.page+=1,D(),G()})),o("3nfD2");r=o("4cG42");var R=document.querySelector("body"),Y=document.querySelector(".gallery"),J=document.querySelector(".backdrop"),O=document.querySelector(".modal__button"),C=document.querySelector(".modal-info__container"),F=0,K={};Y.addEventListener("click",(function(e){var t=JSON.parse(localStorage.getItem(p));e.preventDefault(),F=Number(e.target.dataset.id),t.map((function(e){var t,n,a,o,c,i,l,s,u,g;e.id===F&&(n=(t=e).poster_path,a=t.title,o=t.original_title,c=t.genre_ids,i=t.overview,l=t.vote_count,s=t.vote_average,u=t.popularity,g='\n      <img src="'.concat(n?r.Movie.IMG_PATH+n:"https://yt3.ggpht.com/AAKF_677TIvjFz_9xFF0R6PgiVd0kRpEtY6APSxSDRP65nXg8hkn9NFsz2bRd9_Z37DJ9D_b=s900-c-k-c0x00ffffff-no-rj",'" alt="').concat(a,'" class="modal-info__img">\n      <div class="modal-info">\n          <h2 class="modal-info__movie-name">').concat(a.toUpperCase(),'</h2>\n              <ul class="modal-info__list">\n              <li class="modal-info__item">\n                    <p class="modal-info__title">Vote / Votes<p>\n                    <div class="modal-info__content">\n                        <span class="modal-info__content-color"> ').concat(Math.round(10*s)/10,' </span> / <span class="modal-info__content-color modal-info__content-color--votes">').concat(l,'</span>\n                    </div>\n                </li>\n                <li class="modal-info__item">\n                    <p class="modal-info__title">Popularity</p>\n                    <div class="modal-info__content">').concat(u.toFixed(1),'</div>\n                </li>\n                  <li class="modal-info__item">\n                      <p class="modal-info__title">Original Title</p>\n                      <div class="modal-info__content modal-info__content--text ">').concat(o.toUpperCase(),'</div>\n                  </li>\n                  <li class="modal-info__item">\n                      <p class="modal-info__title">Genre</p>\n                      <div class="modal-info__content modal-info__content--text">').concat(d(c),'</div>\n                  </li>\n              </ul>\n                  <p class="modal-info__article-title">About</p>\n                  <p class="modal-info__article">').concat(i,'</p>\n                  <div class="container-btn">\n            <button type="button" class="btn" name="watched">add to watched</button>\n            <button type="button" class="btn" name="queue">add to queue</button>\n        </div>'),C.innerHTML=g,K=e)})),e.target!==e.currentTarget&&(R.classList.add("modal-open"),J.classList.remove("is-hidden"))})),O.addEventListener("click",(function(e){R.classList.remove("modal-open"),J.classList.add("is-hidden")})),C.addEventListener("click",(function(e){"watched"===e.target.name?j():"queue"===e.target.name&&V()})),J.addEventListener("click",(function(e){e.target===e.currentTarget&&(R.classList.remove("modal-open"),J.classList.add("is-hidden"))}));var P=[],H=[],U="themovie-watched-lib",W="themovie-queue-lib";var j=function(){P=JSON.parse(localStorage.getItem(U))||[];var e=[];P.map((function(t){return e.push(t.id)})),e.includes(F)||(P.push(K),localStorage.setItem(U,JSON.stringify(P)),console.log("watched:  "+e))},V=function(){H=JSON.parse(localStorage.getItem(W))||[];var e=[];H.map((function(t){return e.push(t.id)})),e.includes(F)?console.log("есть уже"):(H.push(K),localStorage.setItem(W,JSON.stringify(H)),console.log("queue:  "+e))},z=document.querySelector(".footer-text__link"),X=document.querySelector(".backdrop-team"),Z=document.querySelector(".modal-team__button");z.addEventListener("click",(function(e){e.preventDefault(),X.classList.remove("is-hidden")})),Z.addEventListener("click",(function(e){e.preventDefault(),X.classList.add("is-hidden")}))}();
//# sourceMappingURL=index.23b68533.js.map
