var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){a[e]=t},e.parcelRequired7c6=n),n("gjiCh");var r=n("dNTj1");n("dNTj1");var l=n("eVqJU"),i=n("k48Mq"),o=n("bAs1G");const s="active",c="btn",u="numb",d="prev-page",g="next-page",p="first-page",f="last-page",h="dots";function L(e){const t=e.page,a=e.total_pages;document.querySelector(".pagination-container").innerHTML=function(e,t){if(e<2)return"";let a,n=`<ul class="pagination-list" data-last="${e}" data-current="${t}">`,r=t-1,l=t+1;if(t>1&&(n+=`<li class="${c} ${d}" data-page="${t-1}"><span><<</span></li>`),e<6)for(let r=1;r<=e;r++)a=t===r?s:"",n+=`<li class="${u} ${a}" data-page="${r}"><span>${r}</span></li>`;else{t>2&&(n+=`<li class="${u} ${p}" data-page="1"><span>1</span></li>`,t>3&&(n+=`<li class="${h}"><span>...</span></li>`)),1===t?l+=2:2===t&&(l+=1),t===e?r-=2:t===e-1&&(r-=1);for(let i=r;i<=l;i++)0===i&&(i+=1),i>e||(a=t===i?s:"",n+=`<li class="${u} ${a}" data-page="${i}"><span>${i}</span></li>`);t<e-1&&(t<e-2&&(n+=`<li class="${h}"><spank">...</span></li>`),n+=`<li class="${u} ${f}" data-page="${e}"><span>${e}</span></li>`)}return t<e&&(n+=`<li class="${c} ${g}" data-page="${t+1}">>></span></li>`),n+="</ul>",n}(a,t)}async function v(e){try{await(0,i.genreLoad)(e);const t=await e.fetchTrend();console.log(t),(0,o.setCurrenDataToLS)(t.results),(0,l.makeMarkupCard)(t),L(t),e.lastPage=t.total_pages}catch(e){console.log(e)}}async function b(e){try{await(0,i.genreLoad)(e);const t=await e.fetchSearch();console.log(t),(0,o.setCurrenDataToLS)(t.results),(0,l.makeMarkupCard)(t),L(t),e.lastPage=t.total_pages}catch(e){console.log(e)}}var m=n("dvsic"),S=(r=n("dNTj1"),l=n("eVqJU"),m=n("dvsic"),r=n("dNTj1"),n("dzEJp"));const w=new(0,(D=n("gjiCh")).default),E={btnSwitchDay:document.querySelector(".time-switch-day"),btnSwitchWeek:document.querySelector(".time-switch-week")};function T(e){switch(e){case r.Movie.trendTime.DAY:(0,S.disabledEl)(E.btnSwitchDay),(0,S.unlockEl)(E.btnSwitchWeek);break;case r.Movie.trendTime.WEEK:(0,S.disabledEl)(E.btnSwitchWeek),(0,S.unlockEl)(E.btnSwitchDay)}}E.btnSwitchDay.addEventListener("click",(function(){w.enable("loader"),N.page=1,N.currentTrendTime=r.Movie.trendTime.DAY,v(N),T(r.Movie.trendTime.DAY),C()})),E.btnSwitchWeek.addEventListener("click",(function(){w.enable("loader"),N.page=1,N.currentTrendTime=r.Movie.trendTime.WEEK,v(N),T(r.Movie.trendTime.WEEK),C()}));o=n("bAs1G");const y=new(0,(D=n("gjiCh")).default),k={formEl:document.querySelector(".search-form"),paragraphEl:document.querySelector(".warning-notification")};let M,$=null;function C(){$=null}k.formEl.addEventListener("submit",(async function(e){try{if(y.enable("loader"),e.preventDefault(),$=e.target.query.value.trim(),""===$)return k.paragraphEl.innerHTML="Enter the name in the search field",void y.disable("loader");M=new(0,r.Movie)($),M.langCurrent=(0,m.getLanguageFromLS)();const t=await M.fetchSearch();if(0===t.total_results)return e.target.reset(),k.paragraphEl.innerHTML="Search result not successful. Enter the correct movie name and try again.",void y.disable("loader");(0,l.makeMarkupCard)(t),L(t),e.target.reset(),k.paragraphEl.innerHTML="",console.log(t),M.lastPage=t.total_pages,(0,o.setCurrenDataToLS)(t.results),(0,S.unlockEl)(E.btnSwitchDay),(0,S.unlockEl)(E.btnSwitchWeek)}catch(e){console.log(e.message)}}));let N;(new(0,(D=n("gjiCh")).default)).enable("preloader"),null===$&&function(){N=new(0,r.Movie);const e=(0,m.getLanguageFromLS)();e?(N.langCurrent=e,(0,m.switchBtnLang)(N.langCurrent)):N.langCurrent=(0,m.setLanguageToLS)(r.Movie.language.ENGLISH);v(N),T(r.Movie.trendTime.DAY),(0,m.setCurrentPageToLS)(m.keyLS.VALUE_PAGE_INDEX)}();r=n("dNTj1"),m=n("dvsic");var D=n("gjiCh"),q=n("fPbO4");const _=new(0,D.default);m.refs.btnSwitchEN.addEventListener("click",(function(){_.enable("loader"),null===$?(N.langCurrent=(0,m.setLanguageToLS)(r.Movie.language.ENGLISH),v(N)):(M.langCurrent=(0,m.setLanguageToLS)(r.Movie.language.ENGLISH),b(M));(0,q.renderFooter)()})),m.refs.btnSwitchUA.addEventListener("click",(function(){_.enable("loader"),null===$?(N.langCurrent=(0,m.setLanguageToLS)(r.Movie.language.UKRAINIAN),v(N)):(M.langCurrent=(0,m.setLanguageToLS)(r.Movie.language.UKRAINIAN),b(M));(0,q.renderFooter)()})),n("dNTj1");const A=document.querySelector(".scroll-area"),j=document.querySelector(".up-btn"),I=document.querySelector(".icon__button");function P(){A.scrollIntoView({block:"center",behavior:"smooth"})}j.addEventListener("click",P),window.addEventListener("scroll",(()=>{scrollY>230&&(I.classList.add("icon__button--opacity"),I.style.position="fixed"),scrollY<230&&(I.classList.remove("icon__button--opacity"),I.style.position="absolute"),scrollY>300?j.classList.remove("is-hidden"):scrollY<300&&j.classList.add("is-hidden")}));new(0,(D=n("gjiCh")).default);const U=document.querySelector(".pagination-container");U.addEventListener("click",(function(e){const t={elPaginationList:document.querySelector(".pagination-list")},a=t.elPaginationList.dataset.current;t.elPaginationList.dataset.last;if("LI"!==e.target.nodeName)return;const n=e.target.dataset.page;if(n===a)return;r=n,null===$?N.page=r:M.page=r,null===$?v(N):b(M),P();var r})),console.log(U),n("lMgIy"),n("bTcpz"),n("fPbO4"),n("7bYU0"),n("8cBDi"),n("f0W3V");
//# sourceMappingURL=index.a907ef59.js.map
