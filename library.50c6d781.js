!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},t.parcelRequired7c6=r),r("kvC6y");var i=r("8nrFW"),o=r("4cG42"),d=r("5xtVg"),s=r("Jmfug"),c=r("7iFtI"),u=(d=r("5xtVg"),new(0,r("kvC6y").default));u.enable("preloader"),d.modal.addEventListener("click",(function(e){var t=(0,s.getCurrentPageFromLS)();e.target.name===d.btnNameKey.WATCHED&&t===s.keyLS.VALUE_PAGE_LIBRARY_W&&D();e.target.name===d.btnNameKey.QUEUE&&t===s.keyLS.VALUE_PAGE_LIBRARY_Q&&w()}));var l=window.matchMedia("(max-width: 767px)"),L=window.matchMedia("(min-width: 768px) and (max-width: 1279px)"),_=window.matchMedia("(min-width: 1280px)"),f=9,E=(0,s.getLanguageFromLS)(),g=s.keyLS.LS_WATHED_EN_DATA_KEY,A=document.querySelector(".box-main-btnss"),m=document.querySelector(".first-box-btn"),b=document.querySelector(".last-box-btn"),S=document.querySelector(".btn-arrow.left"),v=document.querySelector(".btn-arrow.right"),y=document.querySelector(".watched"),T=document.querySelector(".queue"),h=document.querySelector(".gallery"),p=null,k=0,N=1,U=0;function D(){u.enable("loader"),E=(0,s.getLanguageFromLS)(),x(),N=1,I(g),(0,s.setCurrentPageToLS)(s.keyLS.VALUE_PAGE_LIBRARY_W),y.classList.add("is-active"),T.classList.remove("is-active"),u.disable("loader")}function w(){u.enable("loader"),(E=(0,s.getLanguageFromLS)())===o.Movie.language.ENGLISH?g=s.keyLS.LS_QUEUE_EN_DATA_KEY:E===o.Movie.language.UKRAINIAN&&(g=s.keyLS.LS_QUEUE_UA_DATA_KEY),N=1,I(g),(0,s.setCurrentPageToLS)(s.keyLS.VALUE_PAGE_LIBRARY_Q),T.classList.add("is-active"),y.classList.remove("is-active"),u.disable("loader")}function x(){E===o.Movie.language.ENGLISH?g=s.keyLS.LS_WATHED_EN_DATA_KEY:E===o.Movie.language.UKRAINIAN&&(g=s.keyLS.LS_WATHED_UA_DATA_KEY)}function I(t){if(null===(p=function(e){try{var t=localStorage.getItem(e);return null===t?null:JSON.parse(t)}catch(e){h.innerHTML='<p class="message error animate__bounceInDown">Unknown error. Watched movies cannot be displayed.</p>',console.error("Get state error: ",e.message)}}(t))||0===p.length)return A.innerHTML="",""!==d.username&&d.username||""!==d.usernameSS&&d.usernameSS?void(h.innerHTML='<p class="message animate__bounceInDown">If you want to add movie to library then you have to log in first.</p>'):(h.innerHTML='<p class="message info animate__bounceInDown">Your watch list is empty.</p>',void u.disable("loader"));var n,a;if(void 0!==p){if(p){k=p.length,n=k,a=f,function(t){var n="",a=0;if(t<=9){m.classList.add("btn-hidden"),b.classList.add("btn-hidden"),a=t;for(var r=1;r<=a;r+=1)n+='<button type="button" class="main-btn btn-pg"></button>';return Y(n),void e(i)(A.children).map((function(e,t){e.textContent=t+1}))}if(t>9&&N>5&&N<=t-5){m.classList.remove("btn-hidden"),b.classList.remove("btn-hidden"),a=5;for(var o=1;o<=a;o+=1)n+='<button type="button" class="main-btn btn-pg"></button>';return Y(n),void e(i)(A.children).map((function(e,t){e.textContent=N-2+t}))}if(t>9&&N<=5){m.classList.add("btn-hidden"),b.classList.remove("btn-hidden"),a=7;for(var d=1;d<=a;d+=1)n+='<button type="button" class="main-btn btn-pg"></button>';return Y(n),e(i)(A.children).map((function(e,t){e.textContent=t+1})),void C()}if(t>9&&N>t-5){m.classList.remove("btn-hidden"),b.classList.add("btn-hidden"),a=7;for(var s=1;s<=a;s+=1)n+='<button type="button" class="main-btn btn-pg"></button>';Y(n),e(i)(A.children).map((function(e,n){e.textContent=t-6+n})),C()}}(U=Math.ceil(n/a)),R(N);var r=p.slice((N-1)*f,N*f);(0,c.makeMarkupCard)({results:r})}}else u.disable("loader")}function M(e){e.matches&&(f=4,I(g))}function H(e){e.matches&&(f=8,I(g),N>U&&(N=U,I(g)))}function K(e){e.matches&&(f=9,I(g),N>U&&(N=U,I(g)))}function Y(e){A.innerHTML=e}function C(){b.lastElementChild.textContent=U}function R(t){e(i)(A.children).find((function(e){e.textContent===String(t)&&e.classList.add("btn-current-pages")}))}l.addListener(M),L.addListener(H),_.addListener(K),y.addEventListener("click",D),T.addEventListener("click",w),A.addEventListener("click",(function(){if("BUTTON"!==event.target.nodeName)return;N=Number(event.target.textContent),I(g),R(N)})),m.addEventListener("click",(function(){if("BUTTON"!==event.target.nodeName)return;N=1,I(g),R(N)})),b.addEventListener("click",(function(){if("BUTTON"!==event.target.nodeName)return;N=Number(event.target.textContent),I(g),R(N)})),S.addEventListener("click",(function(){if(1===N)return;N-=1,I(g),R(N)})),v.addEventListener("click",(function(){if(N===U)return;N+=1,I(g),R(N)})),function(){E||(E=(0,s.setLanguageToLS)(o.Movie.language.ENGLISH));E===o.Movie.language.UKRAINIAN&&(g=s.keyLS.LS_WATHED_UA_DATA_KEY);(0,s.switchBtnLang)(E),(0,s.setCurrentPageToLS)(s.keyLS.VALUE_PAGE_LIBRARY_W),setTimeout((function(){u.disable("preloader")}),1e3)}(),x(),M(l),H(L),K(_),r("3nfD2");o=r("4cG42"),s=r("Jmfug");var W=r("bEuMR");s.refs.btnSwitchEN.addEventListener("click",(function(){(0,s.setLanguageToLS)(o.Movie.language.ENGLISH),u.enable("loader"),I(g=g===s.keyLS.LS_WATHED_EN_DATA_KEY||g===s.keyLS.LS_WATHED_UA_DATA_KEY?s.keyLS.LS_WATHED_EN_DATA_KEY:s.keyLS.LS_QUEUE_EN_DATA_KEY),(0,W.renderFooter)()})),s.refs.btnSwitchUA.addEventListener("click",(function(){(0,s.setLanguageToLS)(o.Movie.language.UKRAINIAN),u.enable("loader"),I(g=g===s.keyLS.LS_WATHED_EN_DATA_KEY||g===s.keyLS.LS_WATHED_UA_DATA_KEY?s.keyLS.LS_WATHED_UA_DATA_KEY:s.keyLS.LS_QUEUE_UA_DATA_KEY),(0,W.renderFooter)()})),r("5xtVg"),r("bEuMR"),r("aZhHc"),r("sPj1j"),r("bmNaJ")}();
//# sourceMappingURL=library.50c6d781.js.map
