var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},a=t.parcelRequired7c6;null==a&&((a=function(t){if(t in e)return e[t].exports;if(t in n){var a=n[t];delete n[t];var o={id:t,exports:{}};return e[t]=o,a.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,e){n[t]=e},t.parcelRequired7c6=a),a("gjiCh");var o=a("dNTj1");a("dNTj1");var i=a("eVqJU"),r=a("k48Mq"),l=a("bAs1G");const s="active",c="btn-pagination",u="numb",d="prev-page",g="next-page",h="first-page",b="last-page",p="dots",f="disabled";function w(t){const e=t.page,n=t.total_pages;document.querySelector(".pagination-container").innerHTML=function(t,e){if(t<2)return"";let n,a,o=`<ul class="pagination-list" data-last="${t}" data-current="${e}">`,i=e-1,r=e+1;if(e>1&&(o+=`<li class="${c} ${d}"><button data-page="${e-1}"><svg width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.667 8H3.333M8 12.667 3.333 8 8 3.333" stroke-width="1.333" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg></button></li>`),t<6)for(let i=1;i<=t;i++)n=e===i?s:"",a=e===i?f:"",o+=`<li class="${u} ${n}" ><button ${a} data-page="${i}">${i}</button></li>`;else if(window.innerWidth>=768){e>3&&(o+=`<li class="${u} ${h}" ><button data-page="1">1</button></li>`,5===e&&(o+=`<li class="${u}" ><button data-page="2">2</button></li>`),e>5&&(o+=`<li class="${p}"><button data-page="${e-5}">...</button></li>`)),1===e?r+=2:e>=2&&(r+=1),e===t?i-=2:e<=t-1&&(i-=1);for(let l=i;l<=r;l++)l<=0||l>t||(n=e===l?s:"",a=e===l?f:"",o+=`<li class="${u} ${n}" ><button ${a} data-page="${l}">${l}</button></li>`);e<t-2&&(e<t-4&&(o+=`<li class="${p}"><button data-page="${e+5}">...</button></li>`),e===t-4&&(o+=`<li class="${u}" ><button data-page="${t-1}">${t-1}</button></li>`),o+=`<li class="${u} ${b}" ><button data-page="${t}">${t}</button></li>`)}else if(window.innerWidth<768){e>2&&(o+=`<li class="${u} ${h}" ><button data-page="1">1</button></li>`),1===e?r+=2:2===e&&(r+=1),e===t?i-=2:e===t-1&&(i-=1);for(let l=i;l<=r;l++)0===l&&(l+=1),l>t||(n=e===l?s:"",a=e===l?f:"",o+=`<li class="${u} ${n}" ><button ${a} data-page="${l}">${l}</button></li>`);e<t-1&&(o+=`<li class="${u} ${b}" ><button data-page="${t}">${t}</button></li>`)}return e<t&&(o+=`<li class="${c} ${g}" ><button data-page="${e+1}"><svg width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.333 8h9.334M8 12.667 12.667 8 8 3.333" stroke-width="1.333" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg></button></li>`),o+="</ul>",o}(n,e)}o=a("dNTj1"),i=a("eVqJU");var S=a("dvsic"),v=(o=a("dNTj1"),a("dzEJp"));const L=new(0,(D=a("gjiCh")).default),m={btnSwitchDay:document.querySelector(".time-switch-day"),btnSwitchWeek:document.querySelector(".time-switch-week")};function C(t){switch(t){case o.Movie.trendTime.DAY:(0,v.disabledEl)(m.btnSwitchDay),(0,v.unlockEl)(m.btnSwitchWeek);break;case o.Movie.trendTime.WEEK:(0,v.disabledEl)(m.btnSwitchWeek),(0,v.unlockEl)(m.btnSwitchDay)}}m.btnSwitchDay.addEventListener("click",(function(){L.enable("loader"),A.page=1,A.currentTrendTime=o.Movie.trendTime.DAY,U(A),C(o.Movie.trendTime.DAY),M()})),m.btnSwitchWeek.addEventListener("click",(function(){L.enable("loader"),A.page=1,A.currentTrendTime=o.Movie.trendTime.WEEK,U(A),C(o.Movie.trendTime.WEEK),M()}));l=a("bAs1G");const y=new(0,(D=a("gjiCh")).default),$={formEl:document.querySelector(".search-form"),paragraphEl:document.querySelector(".warning-notification")};let E,T,k,x=null;function M(){x=null,T=void 0}function N(){$.paragraphEl.innerHTML=""}async function U(t){try{await(0,r.genreLoad)(t);const e=await t.fetchTrend();console.log(e),(0,l.setCurrenDataToLS)(e.results),(0,i.makeMarkupCard)(e),w(e),t.lastPage=e.total_pages,k=t,N()}catch(t){console.log(t)}}async function j(t){try{await(0,r.genreLoad)(t);const e=await t.fetchSearch();console.log(e),(0,l.setCurrenDataToLS)(e.results),(0,i.makeMarkupCard)(e),w(e),t.lastPage=e.total_pages,N()}catch(t){console.log(t)}}$.formEl.addEventListener("submit",(async function(t){try{if(y.enable("loader"),t.preventDefault(),x=t.target.query.value.trim(),""===x)return $.paragraphEl.innerHTML="Enter the name in the search field",void y.disable("loader");E=new(0,o.Movie)(x),E.langCurrent=(0,S.getLanguageFromLS)();const e=await E.fetchSearch();if(0===e.total_results)return t.target.reset(),$.paragraphEl.innerHTML="Search result not successful. Enter the correct movie name and try again.",y.disable("loader"),k&&(M(),A=k),void(T&&(E=T));(0,i.makeMarkupCard)(e),w(e),t.target.reset(),N(),console.log(e),E.lastPage=e.total_pages,(0,l.setCurrenDataToLS)(e.results),(0,v.unlockEl)(m.btnSwitchDay),(0,v.unlockEl)(m.btnSwitchWeek),T=E,k=void 0}catch(t){console.log(t.message)}}));S=a("dvsic");let A;(new(0,(D=a("gjiCh")).default)).enable("preloader"),null===x&&function(){A=new(0,o.Movie);const t=(0,S.getLanguageFromLS)();t?(A.langCurrent=t,(0,S.switchBtnLang)(A.langCurrent)):A.langCurrent=(0,S.setLanguageToLS)(o.Movie.language.ENGLISH);U(A),C(o.Movie.trendTime.DAY),(0,S.setCurrentPageToLS)(S.keyLS.VALUE_PAGE_INDEX)}();o=a("dNTj1"),S=a("dvsic");var D=a("gjiCh"),q=a("fPbO4");S=a("dvsic"),S=a("dvsic"),o=a("dNTj1");const I={linkHome:document.querySelector(".js-homeLink-text"),linkMyLibrary:document.querySelector(".js-myLibrary-text"),btnSignUp:document.querySelector(".js-signUp-text"),btnLogIn:document.querySelector(".js-logIn-text"),searchPlaceholder:document.querySelector(".search-form__input")},{linkHome:W,linkMyLibrary:H,btnSignUp:P,btnLogIn:_,searchPlaceholder:F,textUpFirst:G,textUpSecond:O,textUpThird:R,textLink:K}=I;async function Y(){const t=await(0,S.getLanguageFromLS)();t===o.Movie.language.ENGLISH&&(W.textContent="Home",H.textContent="My library",P.textContent="Sign Up","Вхід"===_.textContent?_.textContent="Log In":"Вихід"===_.textContent&&(_.textContent="Log Out"),F.placeholder="Movie search",S.refs.btnSwitchEN.textContent="en",S.refs.btnSwitchUA.textContent="ua",m.btnSwitchDay.textContent="day",m.btnSwitchWeek.textContent="week"),t===o.Movie.language.UKRAINIAN&&(W.textContent="Головна",H.textContent="Бібліотека",P.textContent="Реєстрація","Log In"===_.textContent?_.textContent="Вхід":"Log Out"===_.textContent&&(_.textContent="Вихід"),F.placeholder="Пошук фільму",S.refs.btnSwitchEN.textContent="англ",S.refs.btnSwitchUA.textContent="укр",m.btnSwitchDay.textContent="день",m.btnSwitchWeek.textContent="тиждень")}console.log(F),Y();var z=a("5GzhR");const B=new(0,D.default);S.refs.btnSwitchEN.addEventListener("click",(function(){B.enable("loader"),null===x?(A.langCurrent=(0,S.setLanguageToLS)(o.Movie.language.ENGLISH),U(A)):(E.langCurrent=(0,S.setLanguageToLS)(o.Movie.language.ENGLISH),j(E));Y(),(0,q.renderFooter)(),(0,z.translateAuthForms)()})),S.refs.btnSwitchUA.addEventListener("click",(function(){B.enable("loader"),null===x?(A.langCurrent=(0,S.setLanguageToLS)(o.Movie.language.UKRAINIAN),U(A)):(E.langCurrent=(0,S.setLanguageToLS)(o.Movie.language.UKRAINIAN),j(E));Y(),(0,q.renderFooter)(),(0,z.translateAuthForms)()})),a("dNTj1");var V=a("Tc9hE");new(0,(D=a("gjiCh")).default);document.querySelector(".pagination-container").addEventListener("click",(function(t){const e={elPaginationList:document.querySelector(".pagination-list")},n=e.elPaginationList.dataset.current;e.elPaginationList.dataset.last;let a=1;if("BUTTON"===t.target.nodeName)a=t.target.dataset.page;else{const e=t.target.closest("[data-page]");if(!e)return;a=e.dataset.page}if(a===n)return;o=a,null===x?A.page=o:E.page=o,null===x?U(A):j(E),(0,V.handleButtonClick)();var o})),a("lMgIy"),a("bTcpz"),a("Tc9hE"),a("fPbO4"),a("7bYU0"),a("8cBDi"),a("f0W3V"),a("5GzhR");
//# sourceMappingURL=index.74a9c899.js.map
