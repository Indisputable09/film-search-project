var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,a.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequired7c6=a),a("gjiCh");var i=a("dNTj1"),r=a("bTcpz"),o=a("dvsic"),d=a("eVqJU");r=a("bTcpz");const s=new(0,a("gjiCh").default);s.enable("preloader"),r.modal.addEventListener("click",(function(e){const t=(0,o.getCurrentPageFromLS)();e.target.name===r.btnNameKey.WATCHED&&t===o.keyLS.VALUE_PAGE_LIBRARY_W&&U();e.target.name===r.btnNameKey.QUEUE&&t===o.keyLS.VALUE_PAGE_LIBRARY_Q&&k()}));const c=window.matchMedia("(max-width: 767px)"),l=window.matchMedia("(min-width: 768px) and (max-width: 1279px)"),u=window.matchMedia("(min-width: 1280px)");let L=9,_=(0,o.getLanguageFromLS)(),A=o.keyLS.LS_WATHED_EN_DATA_KEY;const E=document.querySelector(".box-main-btnss"),g=document.querySelector(".first-box-btn"),f=document.querySelector(".last-box-btn"),S=document.querySelector(".btn-arrow.left"),m=document.querySelector(".btn-arrow.right"),b=document.querySelector(".watched"),v=document.querySelector(".queue"),T=document.querySelector(".gallery");let h=null,y=0,p=1,N=0;function U(){s.enable("loader"),_=(0,o.getLanguageFromLS)(),D(),p=1,w(A),(0,o.setCurrentPageToLS)(o.keyLS.VALUE_PAGE_LIBRARY_W),b.classList.add("is-active"),v.classList.remove("is-active"),s.disable("loader")}function k(){s.enable("loader"),_=(0,o.getLanguageFromLS)(),_===i.Movie.language.ENGLISH?A=o.keyLS.LS_QUEUE_EN_DATA_KEY:_===i.Movie.language.UKRAINIAN&&(A=o.keyLS.LS_QUEUE_UA_DATA_KEY),p=1,w(A),(0,o.setCurrentPageToLS)(o.keyLS.VALUE_PAGE_LIBRARY_Q),v.classList.add("is-active"),b.classList.remove("is-active"),s.disable("loader")}function D(){_===i.Movie.language.ENGLISH?A=o.keyLS.LS_WATHED_EN_DATA_KEY:_===i.Movie.language.UKRAINIAN&&(A=o.keyLS.LS_WATHED_UA_DATA_KEY)}function w(e){if(h=function(e){try{const t=localStorage.getItem(e);return null===t?null:JSON.parse(t)}catch(e){T.innerHTML='<p class="message error animate__bounceInDown">Unknown error. Watched movies cannot be displayed.</p>',console.error("Get state error: ",e.message)}}(e),null===h||0===h.length)return E.innerHTML="",""!==r.username&&r.username||""!==r.usernameSS&&r.usernameSS?void(T.innerHTML='<p class="message animate__bounceInDown">If you want to add movie to library then you have to log in first.</p>'):(T.innerHTML='<p class="message info animate__bounceInDown">Your watch list is empty.</p>',void s.disable("loader"));var t,n;if(void 0!==h){if(h){y=h.length,t=y,n=L,N=Math.ceil(t/n),function(e){let t="",n=0;if(e<=9){g.classList.add("btn-hidden"),f.classList.add("btn-hidden"),n=e;for(let e=1;e<=n;e+=1)t+=H();return K(t),void[...E.children].map(((e,t)=>{e.textContent=t+1}))}if(e>9&&p>5&&p<=e-5){g.classList.remove("btn-hidden"),f.classList.remove("btn-hidden"),n=5;for(let e=1;e<=n;e+=1)t+=H();return K(t),void[...E.children].map(((e,t)=>{e.textContent=p-2+t}))}if(e>9&&p<=5){g.classList.add("btn-hidden"),f.classList.remove("btn-hidden"),n=7;for(let e=1;e<=n;e+=1)t+=H();return K(t),[...E.children].map(((e,t)=>{e.textContent=t+1})),void M()}if(e>9&&p>e-5){g.classList.remove("btn-hidden"),f.classList.add("btn-hidden"),n=7;for(let e=1;e<=n;e+=1)t+=H();K(t),[...E.children].map(((t,n)=>{t.textContent=e-6+n})),M()}}(N),C(p);const e=h.slice((p-1)*L,p*L);(0,d.makeMarkupCard)({results:e})}}else s.disable("loader")}function I(e){e.matches&&(L=4,w(A))}function x(e){e.matches&&(L=8,w(A),p>N&&(p=N,w(A)))}function Y(e){e.matches&&(L=9,w(A),p>N&&(p=N,w(A)))}function H(){return'<button type="button" class="main-btn btn-pg"></button>'}function K(e){E.innerHTML=e}function M(){f.lastElementChild.textContent=N}function C(e){[...E.children].find((t=>{t.textContent===String(e)&&t.classList.add("btn-current-pages")}))}c.addListener(I),l.addListener(x),u.addListener(Y),b.addEventListener("click",U),v.addEventListener("click",k),E.addEventListener("click",(function(){if("BUTTON"!==event.target.nodeName)return;p=Number(event.target.textContent),w(A),C(p)})),g.addEventListener("click",(function(){if("BUTTON"!==event.target.nodeName)return;p=1,w(A),C(p)})),f.addEventListener("click",(function(){if("BUTTON"!==event.target.nodeName)return;p=Number(event.target.textContent),w(A),C(p)})),S.addEventListener("click",(function(){if(1===p)return;p-=1,w(A),C(p)})),m.addEventListener("click",(function(){if(p===N)return;p+=1,w(A),C(p)})),function(){_||(_=(0,o.setLanguageToLS)(i.Movie.language.ENGLISH));_===i.Movie.language.UKRAINIAN&&(A=o.keyLS.LS_WATHED_UA_DATA_KEY);(0,o.switchBtnLang)(_),(0,o.setCurrentPageToLS)(o.keyLS.VALUE_PAGE_LIBRARY_W),setTimeout((()=>{s.disable("preloader")}),1e3)}(),D(),I(c),x(l),Y(u),a("lMgIy");i=a("dNTj1"),o=a("dvsic");var R=a("fPbO4");o.refs.btnSwitchEN.addEventListener("click",(function(){(0,o.setLanguageToLS)(i.Movie.language.ENGLISH),s.enable("loader"),A=A===o.keyLS.LS_WATHED_EN_DATA_KEY||A===o.keyLS.LS_WATHED_UA_DATA_KEY?o.keyLS.LS_WATHED_EN_DATA_KEY:o.keyLS.LS_QUEUE_EN_DATA_KEY,w(A),(0,R.renderFooter)()})),o.refs.btnSwitchUA.addEventListener("click",(function(){(0,o.setLanguageToLS)(i.Movie.language.UKRAINIAN),s.enable("loader"),A=A===o.keyLS.LS_WATHED_EN_DATA_KEY||A===o.keyLS.LS_WATHED_UA_DATA_KEY?o.keyLS.LS_WATHED_UA_DATA_KEY:o.keyLS.LS_QUEUE_UA_DATA_KEY,w(A),(0,R.renderFooter)()})),a("bTcpz"),a("fPbO4"),a("7bYU0"),a("8cBDi"),a("f0W3V");
//# sourceMappingURL=library.cad17c0f.js.map
