!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},r=n.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){a[e]=n},n.parcelRequired7c6=r),r("kvC6y");var o=r("4cG42"),c=r("bpxeT"),i=r("2TvXO");r("4cG42");var l=r("7iFtI"),s=r("5pO50"),u=r("3lV3Z");function d(e){return p.apply(this,arguments)}function p(){return(p=e(c)(e(i).mark((function n(t){var a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.genreLoad)(t);case 3:return e.next=5,t.fetchTrend();case 5:a=e.sent,console.log(a),(0,u.setCurrenDataToLS)(a.results),(0,l.makeMarkupCard)(a),t.lastPage=a.total_pages,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),n,null,[[0,12]])})))).apply(this,arguments)}function g(e){return f.apply(this,arguments)}function f(){return(f=e(c)(e(i).mark((function n(t){var a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.genreLoad)(t);case 3:return e.next=5,t.fetchSearch();case 5:a=e.sent,console.log(a),(0,u.setCurrenDataToLS)(a.results),(0,l.makeMarkupCard)(a),t.lastPage=a.total_pages,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),n,null,[[0,12]])})))).apply(this,arguments)}var v=r("Jmfug"),b=(c=r("bpxeT"),i=r("2TvXO"),o=r("4cG42"),l=r("7iFtI"),v=r("Jmfug"),o=r("4cG42"),r("6JEwH")),m={btnSwitchDay:document.querySelector(".time-switch-day"),btnSwitchWeek:document.querySelector(".time-switch-week")};function L(e){switch(e){case o.Movie.trendTime.DAY:(0,b.disabledEl)(m.btnSwitchDay),(0,b.unlockEl)(m.btnSwitchWeek);break;case o.Movie.trendTime.WEEK:(0,b.disabledEl)(m.btnSwitchWeek),(0,b.unlockEl)(m.btnSwitchDay)}}function h(){(0,b.unlockEl)(m.btnSwitchDay),(0,b.unlockEl)(m.btnSwitchWeek)}m.btnSwitchDay.addEventListener("click",(function(){x.page=1,x.currentTrendTime=o.Movie.trendTime.DAY,d(x),L(o.Movie.trendTime.DAY),T()})),m.btnSwitchWeek.addEventListener("click",(function(){x.page=1,x.currentTrendTime=o.Movie.trendTime.WEEK,d(x),L(o.Movie.trendTime.WEEK),T()}));u=r("3lV3Z");var E,S=new(0,r("kvC6y").default),k={formEl:document.querySelector(".search-form"),paragraphEl:document.querySelector(".warning-notification")},y=null;function w(){return(w=e(c)(e(i).mark((function n(t){var a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S.disable(),e.prev=1,t.preventDefault(),""!==(y=t.target.query.value.trim())){e.next=8;break}return k.paragraphEl.innerHTML="Enter the name in the search field",S.enable(),e.abrupt("return");case 8:return(E=new(0,o.Movie)(y)).langCurrent=(0,v.getLanguageFromLS)(),e.next=12,E.fetchSearch();case 12:if(0!==(a=e.sent).total_results){e.next=18;break}return t.target.reset(),k.paragraphEl.innerHTML="Search result not successful. Enter the correct movie name and try again.",S.enable(),e.abrupt("return");case 18:(0,l.makeMarkupCard)(a),t.target.reset(),k.paragraphEl.innerHTML="",console.log(a),E.lastPage=a.total_pages,(0,u.setCurrenDataToLS)(a.results),h(),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(1),console.log(e.t0.message);case 30:case"end":return e.stop()}}),n,null,[[1,27]])})))).apply(this,arguments)}function T(){y=null}k.formEl.addEventListener("submit",(function(e){return w.apply(this,arguments)}));var x,M=new(0,r("kvC6y").default);console.log(M.refs.preloader),null===y&&function(){M.refs.preloader.classList.remove("is-off"),x=new(0,o.Movie);var e=(0,v.getLanguageFromLS)();e?(x.langCurrent=e,(0,v.switchBtnLang)(x.langCurrent)):x.langCurrent=(0,v.setLanguageToLS)(o.Movie.language.ENGLISH);d(x),L(o.Movie.trendTime.DAY),(0,v.setCurrentPageToLS)(v.keyLS.VALUE_PAGE_INDEX)}();o=r("4cG42");(v=r("Jmfug")).refs.btnSwitchEN.addEventListener("click",(function(){null===y?(x.langCurrent=(0,v.setLanguageToLS)(o.Movie.language.ENGLISH),d(x)):(E.langCurrent=(0,v.setLanguageToLS)(o.Movie.language.ENGLISH),g(E))})),v.refs.btnSwitchUA.addEventListener("click",(function(){null===y?(x.langCurrent=(0,v.setLanguageToLS)(o.Movie.language.UKRAINIAN),d(x)):(E.langCurrent=(0,v.setLanguageToLS)(o.Movie.language.UKRAINIAN),g(E))})),r("4cG42");var C=document.querySelector(".scroll-area"),_=document.querySelector(".up-btn"),D=document.querySelector(".icon__button");function q(){C.scrollIntoView({block:"center",behavior:"smooth"})}_.addEventListener("click",q),window.addEventListener("scroll",(function(){scrollY>230&&(D.classList.add("icon__button--opacity"),D.style.position="fixed"),scrollY<230&&(D.classList.remove("icon__button--opacity"),D.style.position="absolute"),scrollY>300?_.classList.remove("is-hidden"):scrollY<300&&_.classList.add("is-hidden")}));var N=new(0,r("kvC6y").default),A={btnLoadPrevious:document.querySelector(".pagination-page__btn-previous"),btnLoadNext:document.querySelector(".pagination-page__btn-next")};A.btnLoadPrevious.addEventListener("click",(function(){if(N.disable(),null===y?1===x.page:1===E.page)return void N.enable();null===y?x.page-=1:E.page-=1,G(),q()})),A.btnLoadNext.addEventListener("click",(function(){if(N.disable(),null===y?x.page===x.lastPage:E.page===E.lastPage)return;null===y?x.page+=1:E.page+=1,G(),q()}));var I=document.querySelector(".pagination ul");function G(){null===y?d(x):g(E)}!function e(n){!function(e,n){var t="",a=n-1,r=n+1;n>1&&(t+='<li class="btn prev"><span><<</span></li>');n>2&&(e>3&&(t+='<li class="first numb"><span>1</span></li>'),n>3&&(t+='<li class="dots"><span>...</span></li>'));e>2&&(r+=1);n==e?a-=2:n==e-1?a-=1:1==e&&(a=1);for(var o=a;o<=r;o++)o>e||(o<1&&(o=1),t+='<li class="numb '.concat(n==o?"active":"",'"><span>').concat(o,"</span></li>"));n<e-1&&(n<e-2&&(t+='<li class="dots"><span>...</span></li>'),e>3&&(t+='<li class="last numb"><span>'.concat(e,"</span></li>")));n<e&&(t+='<li class="btn next"><span>>></span></li>');I.innerHTML="",I.insertAdjacentHTML("beforeend",t)}(20,n.page);var t={prev:document.querySelector(".prev"),numb:document.querySelectorAll(".numb"),next:document.querySelector(".next")},a=t.prev,r=t.next;t.numb.forEach((function(t){t.addEventListener("click",(function(t){var a=t.target.textContent;n.page=a,G(),e(n)}))})),a&&a.addEventListener("click",(function(){n.page-=1,G(),e(n)})),r&&r.addEventListener("click",(function(){n.page+=1,G(),e(n)}))}(x),r("3nfD2"),r("5xtVg"),r("aZhHc"),r("sPj1j"),r("bmNaJ")}();
//# sourceMappingURL=index.daa25251.js.map
