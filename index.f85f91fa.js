var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in t){var a=t[e];delete t[e];var r={id:e,exports:{}};return n[e]=r,a.call(r.exports,r,r.exports),r.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,n){t[e]=n},e.parcelRequired7c6=a),a("gjiCh");var r=a("dNTj1");a("dNTj1");var l=a("eVqJU"),o=a("k48Mq"),i=a("bAs1G");function c(e){document.querySelector(".pagination").innerHTML=function(e,n){if(e<2)return"";let t,a='<ul class="pagination">',r=n-1,l=n+1;if(n>1&&(a+='<li class="btn prev"><span><<</span></li>'),e<6)for(let r=1;r<=e;r++)t=n==r?"active":" ",a+='<li class="numb '+t+'"><span>'+r+"</span></li>";else{n>2&&(a+='<li class="first numb"><span>1</span></li>',n>3&&(a+='<li class="dots"><span>...</span></li>')),1===n?l+=2:2===n&&(l+=1),n===e?r-=2:n===e-1&&(r-=1);for(let o=r;o<=l;o++)0===o&&(o+=1),o>e||(t=n==o?"active":"",a+='<li class="numb '+t+'"><span>'+o+"</span></li>");n<e-1&&(n<e-2&&(a+='<li class="dots"><spank">...</span></li>'),a+='<li class="numb"><span>'+e+"</span></li>")}return n<e&&(a+='<li class="btn next"'+(n+1)+'">>></span></li>'),a+="</ul>",document.querySelector(".pagination").innerHTML=a,a}(e.total_pages,e.page)}async function s(e){try{await(0,o.genreLoad)(e);const n=await e.fetchTrend();console.log(n),(0,i.setCurrenDataToLS)(n.results),(0,l.makeMarkupCard)(n),c(n),e.lastPage=n.total_pages}catch(e){console.log(e)}}async function u(e){try{await(0,o.genreLoad)(e);const n=await e.fetchSearch();console.log(n),(0,i.setCurrenDataToLS)(n.results),(0,l.makeMarkupCard)(n),e.lastPage=n.total_pages}catch(e){console.log(e)}}var d=a("dvsic"),g=(r=a("dNTj1"),l=a("eVqJU"),d=a("dvsic"),r=a("dNTj1"),a("dzEJp"));const p=new(0,(w=a("gjiCh")).default),f={btnSwitchDay:document.querySelector(".time-switch-day"),btnSwitchWeek:document.querySelector(".time-switch-week")};function b(e){switch(e){case r.Movie.trendTime.DAY:(0,g.disabledEl)(f.btnSwitchDay),(0,g.unlockEl)(f.btnSwitchWeek);break;case r.Movie.trendTime.WEEK:(0,g.disabledEl)(f.btnSwitchWeek),(0,g.unlockEl)(f.btnSwitchDay)}}f.btnSwitchDay.addEventListener("click",(function(){p.enable("loader"),E.page=1,E.currentTrendTime=r.Movie.trendTime.DAY,s(E),b(r.Movie.trendTime.DAY),S()})),f.btnSwitchWeek.addEventListener("click",(function(){p.enable("loader"),E.page=1,E.currentTrendTime=r.Movie.trendTime.WEEK,s(E),b(r.Movie.trendTime.WEEK),S()}));i=a("bAs1G");const v=new(0,(w=a("gjiCh")).default),L={formEl:document.querySelector(".search-form"),paragraphEl:document.querySelector(".warning-notification")};let m,h=null;function S(){h=null}L.formEl.addEventListener("submit",(async function(e){try{if(v.enable("loader"),e.preventDefault(),h=e.target.query.value.trim(),""===h)return L.paragraphEl.innerHTML="Enter the name in the search field",void v.disable("loader");m=new(0,r.Movie)(h),m.langCurrent=(0,d.getLanguageFromLS)();const n=await m.fetchSearch();if(0===n.total_results)return e.target.reset(),L.paragraphEl.innerHTML="Search result not successful. Enter the correct movie name and try again.",void v.disable("loader");(0,l.makeMarkupCard)(n),e.target.reset(),L.paragraphEl.innerHTML="",console.log(n),m.lastPage=n.total_pages,(0,i.setCurrenDataToLS)(n.results),(0,g.unlockEl)(f.btnSwitchDay),(0,g.unlockEl)(f.btnSwitchWeek)}catch(e){console.log(e.message)}}));let E;(new(0,(w=a("gjiCh")).default)).enable("preloader"),null===h&&function(){E=new(0,r.Movie);const e=(0,d.getLanguageFromLS)();e?(E.langCurrent=e,(0,d.switchBtnLang)(E.langCurrent)):E.langCurrent=(0,d.setLanguageToLS)(r.Movie.language.ENGLISH);s(E),b(r.Movie.trendTime.DAY),(0,d.setCurrentPageToLS)(d.keyLS.VALUE_PAGE_INDEX)}();r=a("dNTj1"),d=a("dvsic");var w=a("gjiCh"),y=a("fPbO4");const T=new(0,w.default);d.refs.btnSwitchEN.addEventListener("click",(function(){T.enable("loader"),null===h?(E.langCurrent=(0,d.setLanguageToLS)(r.Movie.language.ENGLISH),s(E)):(m.langCurrent=(0,d.setLanguageToLS)(r.Movie.language.ENGLISH),u(m));(0,y.renderFooter)()})),d.refs.btnSwitchUA.addEventListener("click",(function(){T.enable("loader"),null===h?(E.langCurrent=(0,d.setLanguageToLS)(r.Movie.language.UKRAINIAN),s(E)):(m.langCurrent=(0,d.setLanguageToLS)(r.Movie.language.UKRAINIAN),u(m));(0,y.renderFooter)()})),a("dNTj1");const k=document.querySelector(".scroll-area"),M=document.querySelector(".up-btn"),C=document.querySelector(".icon__button");function q(){k.scrollIntoView({block:"center",behavior:"smooth"})}M.addEventListener("click",q),window.addEventListener("scroll",(()=>{scrollY>230&&(C.classList.add("icon__button--opacity"),C.style.position="fixed"),scrollY<230&&(C.classList.remove("icon__button--opacity"),C.style.position="absolute"),scrollY>300?M.classList.remove("is-hidden"):scrollY<300&&M.classList.add("is-hidden")}));const N=new(0,(w=a("gjiCh")).default),_={btnLoadPrevious:document.querySelector(".pagination-page__btn-previous"),btnLoadNext:document.querySelector(".pagination-page__btn-next")};_.btnLoadPrevious.addEventListener("click",(function(){if(N.disable(),null===h?1===E.page:1===m.page)return void N.enable();null===h?E.page-=1:m.page-=1,j(),q()})),_.btnLoadNext.addEventListener("click",(function(){if(null===h?E.page===E.lastPage:m.page===m.lastPage)return;null===h?E.page+=1:m.page+=1,j(),q()}));const{prev:D,numb:x,next:A}={prev:document.querySelector(".prev"),numb:document.querySelectorAll(".numb"),next:document.querySelector(".next")};function j(){null===h?s(E):u(m)}!function e(n){c(n),x.forEach((t=>{t.addEventListener("click",(t=>{N.enable("loader");const a=t.target.textContent;n.page=a,j(),e(n)}))})),D&&D.addEventListener("click",(()=>{n.page-=1,j(),e(n)})),A&&A.addEventListener("click",(()=>{n.page+=1,j(),e(n)}))}(E),a("lMgIy"),a("bTcpz"),a("fPbO4"),a("7bYU0"),a("8cBDi"),a("f0W3V");
//# sourceMappingURL=index.f85f91fa.js.map
