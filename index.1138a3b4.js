var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in t){var a=t[e];delete t[e];var r={id:e,exports:{}};return n[e]=r,a.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){t[e]=n},e.parcelRequired7c6=a),a("gjiCh");var r=a("dNTj1");a("dNTj1");var o=a("eVqJU"),l=a("k48Mq"),i=a("bAs1G");async function c(e){try{await(0,l.genreLoad)(e);const n=await e.fetchTrend();console.log(n),(0,i.setCurrenDataToLS)(n.results),(0,o.makeMarkupCard)(n),e.lastPage=n.total_pages}catch(e){console.log(e)}}async function s(e){try{await(0,l.genreLoad)(e);const n=await e.fetchSearch();console.log(n),(0,i.setCurrenDataToLS)(n.results),(0,o.makeMarkupCard)(n),e.lastPage=n.total_pages}catch(e){console.log(e)}}var u=a("dvsic"),d=(r=a("dNTj1"),o=a("eVqJU"),u=a("dvsic"),r=a("dNTj1"),a("dzEJp"));const g={btnSwitchDay:document.querySelector(".time-switch-day"),btnSwitchWeek:document.querySelector(".time-switch-week")};function p(e){switch(e){case r.Movie.trendTime.DAY:(0,d.disabledEl)(g.btnSwitchDay),(0,d.unlockEl)(g.btnSwitchWeek);break;case r.Movie.trendTime.WEEK:(0,d.disabledEl)(g.btnSwitchWeek),(0,d.unlockEl)(g.btnSwitchDay)}}g.btnSwitchDay.addEventListener("click",(function(){E.page=1,E.currentTrendTime=r.Movie.trendTime.DAY,c(E),p(r.Movie.trendTime.DAY),m()})),g.btnSwitchWeek.addEventListener("click",(function(){E.page=1,E.currentTrendTime=r.Movie.trendTime.WEEK,c(E),p(r.Movie.trendTime.WEEK),m()}));i=a("bAs1G");const f=new(0,a("gjiCh").default),v={formEl:document.querySelector(".search-form"),paragraphEl:document.querySelector(".warning-notification")};let L,b=null;function m(){b=null}v.formEl.addEventListener("submit",(async function(e){f.disable();try{if(e.preventDefault(),b=e.target.query.value.trim(),""===b)return v.paragraphEl.innerHTML="Enter the name in the search field",void f.enable();L=new(0,r.Movie)(b),L.langCurrent=(0,u.getLanguageFromLS)();const n=await L.fetchSearch();if(0===n.total_results)return e.target.reset(),v.paragraphEl.innerHTML="Search result not successful. Enter the correct movie name and try again.",void f.enable();(0,o.makeMarkupCard)(n),e.target.reset(),v.paragraphEl.innerHTML="",console.log(n),L.lastPage=n.total_pages,(0,i.setCurrenDataToLS)(n.results),(0,d.unlockEl)(g.btnSwitchDay),(0,d.unlockEl)(g.btnSwitchWeek)}catch(e){console.log(e.message)}}));const h=new(0,a("gjiCh").default);let E;console.log(h.refs.preloader),null===b&&function(){h.refs.preloader.classList.remove("is-off"),E=new(0,r.Movie);const e=(0,u.getLanguageFromLS)();e?(E.langCurrent=e,(0,u.switchBtnLang)(E.langCurrent)):E.langCurrent=(0,u.setLanguageToLS)(r.Movie.language.ENGLISH);c(E),p(r.Movie.trendTime.DAY),(0,u.setCurrentPageToLS)(u.keyLS.VALUE_PAGE_INDEX)}();r=a("dNTj1");(u=a("dvsic")).refs.btnSwitchEN.addEventListener("click",(function(){null===b?(E.langCurrent=(0,u.setLanguageToLS)(r.Movie.language.ENGLISH),c(E)):(L.langCurrent=(0,u.setLanguageToLS)(r.Movie.language.ENGLISH),s(L))})),u.refs.btnSwitchUA.addEventListener("click",(function(){null===b?(E.langCurrent=(0,u.setLanguageToLS)(r.Movie.language.UKRAINIAN),c(E)):(L.langCurrent=(0,u.setLanguageToLS)(r.Movie.language.UKRAINIAN),s(L))})),a("dNTj1");const S=document.querySelector(".scroll-area"),w=document.querySelector(".up-btn"),y=document.querySelector(".icon__button");function T(){S.scrollIntoView({block:"center",behavior:"smooth"})}w.addEventListener("click",T),window.addEventListener("scroll",(()=>{scrollY>230&&(y.classList.add("icon__button--opacity"),y.style.position="fixed"),scrollY<230&&(y.classList.remove("icon__button--opacity"),y.style.position="absolute"),scrollY>300?w.classList.remove("is-hidden"):scrollY<300&&w.classList.add("is-hidden")}));const k=new(0,a("gjiCh").default),M={btnLoadPrevious:document.querySelector(".pagination-page__btn-previous"),btnLoadNext:document.querySelector(".pagination-page__btn-next")};M.btnLoadPrevious.addEventListener("click",(function(){if(k.disable(),null===b?1===E.page:1===L.page)return void k.enable();null===b?E.page-=1:L.page-=1,q(),T()})),M.btnLoadNext.addEventListener("click",(function(){if(k.disable(),null===b?E.page===E.lastPage:L.page===L.lastPage)return;null===b?E.page+=1:L.page+=1,q(),T()}));const C=document.querySelector(".pagination ul");function q(){null===b?c(E):s(L)}!function e(n){!function(e,n){let t,a="",r=n-1,o=n+1;n>1&&(a+='<li class="btn prev"><span><<</span></li>');n>2&&(e>3&&(a+='<li class="first numb"><span>1</span></li>'),n>3&&(a+='<li class="dots"><span>...</span></li>'));e>2&&(o+=1);n==e?r-=2:n==e-1?r-=1:1==e&&(r=1);for(var l=r;l<=o;l++)l>e||(l<1&&(l=1),t=n==l?"active":"",a+=`<li class="numb ${t}"><span>${l}</span></li>`);n<e-1&&(n<e-2&&(a+='<li class="dots"><span>...</span></li>'),e>3&&(a+=`<li class="last numb"><span>${e}</span></li>`));n<e&&(a+='<li class="btn next"><span>>></span></li>');C.innerHTML="",C.insertAdjacentHTML("beforeend",a)}(20,n.page);const{prev:t,numb:a,next:r}={prev:document.querySelector(".prev"),numb:document.querySelectorAll(".numb"),next:document.querySelector(".next")};a.forEach((t=>{t.addEventListener("click",(t=>{const a=t.target.textContent;n.page=a,q(),e(n)}))})),t&&t.addEventListener("click",(()=>{n.page-=1,q(),e(n)})),r&&r.addEventListener("click",(()=>{n.page+=1,q(),e(n)}))}(E),a("lMgIy"),a("bTcpz"),a("7bYU0"),a("8cBDi"),a("f0W3V");
//# sourceMappingURL=index.1138a3b4.js.map
